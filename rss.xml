<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Loris Cro's Personal Blog]]></title><description><![CDATA[A blog about computer science and design.]]></description><link>https://kristoff.it/</link><generator>RSS for Node</generator><lastBuildDate>Mon, 06 Jul 2020 14:10:54 GMT</lastBuildDate><item><title><![CDATA[Addio Redis, I'm leaving Redis Labs]]></title><description><![CDATA[Last week I resigned from my position as developer advocate at Redis Labs. I’ve never talked much about Redis on this blog because I made a…]]></description><link>https://kristoff.it//blog/addio-redis/</link><guid isPermaLink="false">https://kristoff.it//blog/addio-redis/</guid><pubDate>Sun, 05 Jul 2020 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last week I resigned from my position as developer advocate at Redis Labs.&lt;/p&gt;
&lt;p&gt;I’ve never talked much about Redis on this blog because I made a point of trying to write interesting posts about different topics, and also to avoid any form of conflict of interest: I didn’t want people to think this blog was being used as a marketing outlet by Redis Labs.&lt;/p&gt;
&lt;p&gt;Now that I’m not with the company anymore, I’m looking forward to sharing some of my thoughts on open-source software and related topics, using the direct and energetic tone that I always employ here. &lt;/p&gt;
&lt;p&gt;This was the first job I took that wasn’t strictly about programming. It taught me a lot about communication, how information flows between groups of people, and how companies try to shape that flow.&lt;/p&gt;
&lt;p&gt;While Redis Labs as a company isn’t perfect — I wouldn’t have left otherwise, and it wouldn’t have hired me in the first place, as I’m not perfect either — I’m happy with my experience overall. The one regret I have is that my position was in part meant to help the community better understand Redis, and I’m leaving behind me basically the same level of confusion that was there when I joined 1.5 years ago.&lt;/p&gt;
&lt;p&gt;Redis is less obvious to describe than other tools in the same space, but that alone is not enough to explain why no one seems to agree on what Redis is good at, or what even is Redis. To me, the current situation seems caused by an ongoing turf war between tech companies, starting from the direct competitors of Redis Labs, up to the Cloud giants, who see themselves as the ultimate gatekeepers of modern software architecture.&lt;/p&gt;
&lt;p&gt;Each of these factions wants Redis to be a different thing, and so they spend their budget accordingly, starting from developer advocates like me, up to de-facto astroturfers that I’ll leave unnamed. While you and I, dear reader, are surely immune to marketing and scummy tactics, those techniques do work wonders on the public, and the strength of true statements is only used as a way of making marketing spend more efficient.&lt;/p&gt;
&lt;p&gt;This is where I imagined I would spell out my take on Redis, but &lt;a href=&quot;http://antirez.com/news/133&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;now that Antirez has left the project&lt;/a&gt;, it doesn’t matter anymore. Whatever Redis is going to be in the future, it will be shaped by sales tactics, whatever the Clouds are going to do next, and other uninspired metrics.&lt;/p&gt;
&lt;p&gt;Since this is my goodbye post to Redis, let me add an over-the-top Italian skit before jumping into the lessons learned.&lt;/p&gt;
&lt;h2 id=&quot;if-redis-were-pasta&quot;&gt;&lt;a href=&quot;#if-redis-were-pasta&quot; aria-label=&quot;if redis were pasta permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;If Redis were pasta&lt;/h2&gt;
&lt;p&gt;If Redis were pasta, it would be served in a restaurant called Salvatore’s. It would be a plate of spaghetti with tomato sauce and a single leaf of basil on top; basically the Italian symbol for a simple, versatile meal. &lt;/p&gt;
&lt;p&gt;Big tech would be like McDonald’s and Burger King: convinced that the future of nutrition is fast-food and constantly screaming that Redis can’t be considered a real meal as it doesn’t contain any bacon: “Come eat our new burger, which now contains an extra 4th layer of meat, exquisitely designed to make it easier to digest the meal!”&lt;/p&gt;
&lt;p&gt;On a table you would find Jepsen, essentially the equivalent of Yelp, ideally meant to keep restaurants honest, generally correct, but ultimately not that different from other tech companies, and thus well deserving of &lt;a href=&quot;https://www.youtube.com/watch?v=pDlR_ccnZww&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;boogers and cum&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Antirez, largely preferring cooking over serving, would end up selling the restaurant to the waiters, who at that point would make their priority to turn the restaurant into an Olive Garden.&lt;/p&gt;
&lt;h2 id=&quot;lessons-learned&quot;&gt;&lt;a href=&quot;#lessons-learned&quot; aria-label=&quot;lessons learned permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lessons learned&lt;/h2&gt;
&lt;p&gt;So where’s the Redis community in this story? Well, those are just the silent, mostly anonymous regulars that come, eat, and then go on with their lives. &lt;/p&gt;
&lt;p&gt;It’s the people that occasionally show up on HN and point out that they’re happy with what Redis does for them, and that they rarely think about it even, as the software tends to chug along nicely. As much as I sympathize with them, the ultimate lesson I learned is that a passive community will inevitably lead to the death of a project.&lt;/p&gt;
&lt;p&gt;While the “&lt;a href=&quot;https://news.ycombinator.com/item?id=23690123&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;spontaneus software&lt;/a&gt;” world is busy infighting, big tech is systematically strip-mining it of any value, even when 99% of the value gets lost in the process. Tech companies are willing to go to any length to capture that 1%, and over time have learned to use Free software arguments against Free software itself, to ensure nobody would stop them.&lt;/p&gt;
&lt;p&gt;The future of what we call today open-source software needs to learn to be in equal parts principled and pragmatic. The principles of human spontaneity must be preserved, to ensure we don’t turn in yet another fast-food chain, but we must understand that sophisticated ethical arguments require an equally sophisticated infrastructure beneath them, as without the latter the former can’t materialize into reality.&lt;/p&gt;
&lt;p&gt;We need to keep our communities as much as possible engaged and invested in the success of our projects. The flow of information must be kept open and at high pressure, to ensure that our values and goals are well-understood by the majority of the community. Failing to do that means becoming servants of large donors and opening the community to all kinds of manipulations.&lt;/p&gt;
&lt;p&gt;We need to reinvent the way we approach spontaneous collaboration in software and we must understand that it’s not going to be a peaceful process. Maybe it’s my native-american blood talking, but I feel I’m ready to get up close and personal with the world I dealt with for the last 1.5 years, except this time I won’t be wearing formal attire.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;I’m joining the Zig Software Foundation as VP of Community and it’s going to be my honor and pleasure to try to make all of this a reality for at least one project.&lt;/strong&gt; If you want to follow us on this journey, &lt;a href=&quot;https://zig.show&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;join us Saturday 11th on Twitch for the live announcement and first fundraising&lt;/a&gt;. It’s going to be fun and, if we hit the corresponding donation goal, I will reveal my (until now) secret recipe for a nice summer pasta. Not as simple as Salvatore’s, but pretty good nevertheless.&lt;/p&gt;
&lt;p&gt;You can find more info at &lt;a href=&quot;https://zig.show&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://zig.show&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/7ffb8dd2d51fdeda298fa5f212e48bbe/fb329/IMG_5653.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 133.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAAAAQBBQIDBv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/aAAwDAQACEAMQAAABW3WNHLJJO6araQR4wCv/xAAcEAACAgMBAQAAAAAAAAAAAAABAgADERIyBDH/2gAIAQEAAQUC19ABJenQmNRhAXUfJmVVKbNEMbmiLz//xAAXEQADAQAAAAAAAAAAAAAAAAAAEBEh/9oACAEDAQE/Aaa//8QAFREBAQAAAAAAAAAAAAAAAAAAASD/2gAIAQIBAT8BY//EACEQAAEDAwQDAAAAAAAAAAAAAAEAAhEQEjEDEyEyQWFx/9oACAEBAAY/Ao2eFc7ssow95PsqB5q+QLQsU1PiC//EAB0QAQADAQACAwAAAAAAAAAAAAEAESExQXGBoeH/2gAIAQEAAT8hGfKvn7G4FnpA1zSaxkVQc1bNyM16i8xKCdIAMKibfMaOo+vP/9oADAMBAAIAAwAAABDwEv7/xAAYEQEBAQEBAAAAAAAAAAAAAAABEQAhMf/aAAgBAwEBPxCr1yn3LEwUrv/EABgRAQEAAwAAAAAAAAAAAAAAAAEAEBEh/9oACAECAQE/EAJzDbv/xAAgEAEAAwACAQUBAAAAAAAAAAABABEhMUGBUWGRobHh/9oACAEBAAE/EKubW32Cr8IFE15Acs9sCGQ96TiEqB8oX4hr6saV9zCw3vHEANpRTcQwi09tj68SmYacFH9uE06/DFsQ1fOxoQ9Z/9k=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f5e3c/IMG_5653.webp 100w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f2fbe/IMG_5653.webp 200w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/e227a/IMG_5653.webp 400w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/965c5/IMG_5653.webp 600w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/0cbce/IMG_5653.webp 800w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/34ef4/IMG_5653.webp 1920w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7ffb8dd2d51fdeda298fa5f212e48bbe/5fb09/IMG_5653.jpg 100w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/f544b/IMG_5653.jpg 200w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/41689/IMG_5653.jpg 400w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/82472/IMG_5653.jpg 600w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/a296c/IMG_5653.jpg 800w,
/static/7ffb8dd2d51fdeda298fa5f212e48bbe/fb329/IMG_5653.jpg 1920w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7ffb8dd2d51fdeda298fa5f212e48bbe/41689/IMG_5653.jpg&quot;
          alt=&quot;A photo I took at the last AWS reinvent.&quot;
          title=&quot;Fuck you AWS.&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Fuck you AWS.&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What is Zig's “Colorblind” Async/Await?]]></title><description><![CDATA[Zig is a new, general-purpose programming language that is rethinking from the ground up the way languages and related tooling should work…]]></description><link>https://kristoff.it//blog/zig-colorblind-async-await/</link><guid isPermaLink="false">https://kristoff.it//blog/zig-colorblind-async-await/</guid><pubDate>Sat, 20 Jun 2020 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Zig is a new, general-purpose programming language that is rethinking from the ground up the way languages and related tooling should work. I’ve &lt;a href=&quot;/blog/what-is-zig-comptime&quot;&gt;already discussed compile-time code execution&lt;/a&gt;, and now I’m going to introduce another innovative concept from the language: async/await.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;But wait a minute, isn’t async/await present also in other languages?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Well yes, but async/await in Zig combines with compile-time execution, allowing functions to implicitly become async and whole libraries to work transparently in both blocking and evented I/O mode in a way that’s very much unique to Zig.&lt;/p&gt;
&lt;p&gt;Let’s see what that means.&lt;/p&gt;
&lt;h2 id=&quot;asyncawait-notation-in-zig&quot;&gt;&lt;a href=&quot;#asyncawait-notation-in-zig&quot; aria-label=&quot;asyncawait notation in zig permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Async/Await notation in Zig&lt;/h2&gt;
&lt;p&gt;While Zig is very innovative, it tries to be a small and simple language. Zig takes a lot of inspiration from the simplicity of C and reserves metaprogramming acrobatics for when you really need them. In general, you should be able to become productive with Zig in a weekend. So, while most Zig features will immediately strike you as pleasant and somewhat familiar, async/await is one example of the familiarity-rule being broken, but for good reason.&lt;/p&gt;
&lt;h2 id=&quot;a-bit-of-context&quot;&gt;&lt;a href=&quot;#a-bit-of-context&quot; aria-label=&quot;a bit of context permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;A bit of context&lt;/h2&gt;
&lt;p&gt;When it comes to making use of evented I/O, you tend to have two options in imperative programming languages: callbacks or async/await.&lt;/p&gt;
&lt;p&gt;The first case has the advantage of not requiring any addition to the language, but the downside is that now everything has to be based on callbacks and nested closures. The second case basically leaves it to the compiler to break down your function into different “stages”, making the whole translation transparent to the user (i.e. to you it still looks like normal, sequential, imperative code) but, unfortunately, it has the side effect of introducing function coloring.&lt;/p&gt;
&lt;h3 id=&quot;function-coloring&quot;&gt;&lt;a href=&quot;#function-coloring&quot; aria-label=&quot;function coloring permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Function coloring&lt;/h3&gt;
&lt;p&gt;The idea of function coloring is nicely explained by &lt;a href=&quot;https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;this blog post&lt;/a&gt;, but to sum it up: since you can’t call async functions from non-async code, you end up with a lot of duplicated effort, where you need to reimplement parts of your standard library and all networking-related libraries to account for async/await. One example of this is Python, where the introduction of async/await in Python 3 birthed projects like &lt;a href=&quot;https://github.com/aio-libs&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;aio-libs&lt;/a&gt;, whose goal is to reimplement popular networking libraries on top of AsyncIO.&lt;/p&gt;
&lt;h2 id=&quot;zigs-colorblind-asyncawait&quot;&gt;&lt;a href=&quot;#zigs-colorblind-asyncawait&quot; aria-label=&quot;zigs colorblind asyncawait permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Zig’s “colorblind” async/await&lt;/h2&gt;
&lt;p&gt;Let’s walk through how async/await works in Zig by looking at a few examples. To see the following code snippets run, launch Netcat in another terminal in listen mode and, if everything works, you should see “Hello World!” being printed after every run.  &lt;/p&gt;
&lt;p&gt;Here’s the complete Netcat command:&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;
&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;shell&quot;&gt;
&lt;code class=&quot;vscode-highlight-code vscode-highlight-line&quot;&gt;&lt;span class=&quot;bold&quot;&gt;&lt;span class=&quot;f2&quot;&gt;➜&lt;/span&gt;&lt;/span&gt; nc -lk 7000                                   
&lt;/code&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;h3 id=&quot;basics&quot;&gt;&lt;a href=&quot;#basics&quot; aria-label=&quot;basics permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Basics&lt;/h3&gt;
&lt;p&gt;The first example is a simple blocking program that writes to a socket. Nothing surprising there.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;).net;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; addr = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net.Address.parseIp(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;7000&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr: net.Address) !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net.tcpConnectToAddress(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.close();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    _ = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.write(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello World!&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Adding one special declaration in the source file enables evented I/O.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;).net;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io_mode = .evented;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; addr = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net.Address.parseIp(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;7000&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr: net.Address) !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net.tcpConnectToAddress(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.close();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    _ = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.write(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello World!&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That declaration caused a few changes in the background, one of which is opening the socket in non-blocking mode. This causes the function to become async, but as you can see the way it gets called did not change: it still looks like a normal function invocation, even though it’s not.&lt;/p&gt;
&lt;p&gt;The Zig code above is functionally equivalent to the following Python code:&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;python&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk15&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; asyncio&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;():&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk15&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;7000&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;send_message&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk12&quot;&gt;addr&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk12&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;):&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    _, writer = &lt;/span&gt;&lt;span class=&quot;mtk15&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; asyncio.open_connection(addr, port)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    writer.write(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello World!&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    writer.close()&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;asyncio.run(main())&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;expressing-concurrency&quot;&gt;&lt;a href=&quot;#expressing-concurrency&quot; aria-label=&quot;expressing concurrency permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Expressing concurrency&lt;/h3&gt;
&lt;p&gt;You’ve seen now that in Zig there is no extra keyword requirement to launch a coroutine and immediately wait for its completion. So how do you start a coroutine and &lt;code&gt;await&lt;/code&gt; it afterward then? By using &lt;code&gt;async&lt;/code&gt; of course!&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;).net;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io_mode = .evented;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; addr = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net.Address.parseIp(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;7000&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sendFrame = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// ... do something else while&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;//     the message is being sent ...&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sendFrame;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Note how the function definition doesn&amp;#39;t require any static&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// &amp;#96;async&amp;#96; marking. The compiler can deduce when a function is&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// async based on its usage of &amp;#96;await&amp;#96;.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr: net.Address) !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// We could also delay &amp;#96;await&amp;#96;ing for the connection&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// to be established, if we had something else we&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// wanted to do in the meantime.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket = net.tcpConnectToAddress(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.close();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// Using both await and async in the same statement&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// is unnecessary and non-idiomatic, but it shows&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// what&amp;#39;s happening behind the scenes when &amp;#96;io_mode&amp;#96;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// is &amp;#96;.evented&amp;#96;.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    _ = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.write(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello World!&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By using the &lt;code&gt;async&lt;/code&gt; keyword, you’re creating the coroutine and running it until it encounters a suspension point (when it has to wait for I/O to happen, roughly speaking). The return value is what Zig calls an “async frame” and is to some degree equivalent to &lt;code&gt;Future&lt;/code&gt;, &lt;code&gt;Task&lt;/code&gt;, &lt;code&gt;Promise&lt;/code&gt;, or &lt;code&gt;Coroutine&lt;/code&gt; objects from other languages.&lt;/p&gt;
&lt;h3 id=&quot;one-final-trick&quot;&gt;&lt;a href=&quot;#one-final-trick&quot; aria-label=&quot;one final trick permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;One final trick&lt;/h3&gt;
&lt;p&gt;Let me show you the final trick that completes the puzzle: using async/await in blocking mode.
To revert back to blocking I/O, all we have to do is delete the special declaration we added in the beginning (or use the corresponding enum case).&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;).net;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io_mode = .blocking;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; addr = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; net.Address.parseIp(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;127.0.0.1&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;7000&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// yes, this still works&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sendFrame = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sendFrame;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; send_message(addr: net.Address) !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket = net.tcpConnectToAddress(addr);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;defer&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.close();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// this too&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    _ = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;await&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;async&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; socket.write(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello World!&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yes, this program compiles and works as expected. The function is no longer async, and in fact both keywords basically become no-ops, but &lt;strong&gt;the point is that you can express concurrency even if you’re not able to take advantage of it&lt;/strong&gt;. This might not seem such a big deal in our small example, but it’s the principle that allows libraries to offer both blocking and evented I/O capabilities off of a single code base.&lt;/p&gt;
&lt;h2 id=&quot;a-concrete-example&quot;&gt;&lt;a href=&quot;#a-concrete-example&quot; aria-label=&quot;a concrete example permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;A concrete example&lt;/h2&gt;
&lt;p&gt;A while ago I started working on &lt;a href=&quot;https://github.com/kristoff-it/zig-okredis&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;OkRedis, a Redis client library written in Zig&lt;/a&gt; that tries to offer as many niceties it can to the user without compromising in terms of efficiency. Among other things, it features full support for both blocking and evented I/O in a single codebase. If you want to learn more, take a look at the available documentation on GitHub and watch this talk &lt;a href=&quot;https://twitter.com/andrew_kelley&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Andrew Kelley&lt;/a&gt; (the creator of Zig) co-authored with me. In it, Andrew explains the basics of async/await in Zig and, in the second part, I demo OkRedis.&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/zeLToGnjIUM&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;center&gt;&lt;i&gt;&quot;Modeling Data Concurrency with Asynchronous I/O in Zig&quot;&lt;/i&gt;&lt;/center&gt;
&lt;h2 id=&quot;understanding-the-limits&quot;&gt;&lt;a href=&quot;#understanding-the-limits&quot; aria-label=&quot;understanding the limits permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Understanding the limits&lt;/h2&gt;
&lt;p&gt;While the compiler is very smart and defeating function coloring has many practical benefits, it’s not a magic bullet, so let me immediately demystify some ideas about it.&lt;/p&gt;
&lt;h4 id=&quot;q-will-enabling-evented-io-immediately-make-my-program-faster&quot;&gt;&lt;a href=&quot;#q-will-enabling-evented-io-immediately-make-my-program-faster&quot; aria-label=&quot;q will enabling evented io immediately make my program faster permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Q: Will enabling evented I/O immediately make my program faster?&lt;/h4&gt;
&lt;p&gt;No, to make your program take advantage of evented I/O you need to express concurrency in your code.
If you never did that work, enabling evented I/O will not provide any appreciable advantage, but you might experience better performance if one of the libraries you’re using has been properly designed for async/await.&lt;/p&gt;
&lt;p&gt;That said if your code gets embedded in a larger project that does make use of async/await, the
automated translation to evented I/O will make your code play nice with the surrounding context, to some extent.&lt;/p&gt;
&lt;h4 id=&quot;q-so-all-async-applications-can-be-made-blocking-just-by-flipping-a-switch&quot;&gt;&lt;a href=&quot;#q-so-all-async-applications-can-be-made-blocking-just-by-flipping-a-switch&quot; aria-label=&quot;q so all async applications can be made blocking just by flipping a switch permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Q: So all async applications can be made blocking just by flipping a switch?&lt;/h4&gt;
&lt;p&gt;No, there’s plenty of applications that need evented I/O to behave correctly. Switching to blocking mode, without introducing any change, might cause them to deadlock. Think for example of a single application that acts both as server and client to itself.&lt;/p&gt;
&lt;p&gt;That said, during compile-time, it’s possible to inspect if the overall program is in evented mode or not, and properly designed code might decide to move to a threaded model when in blocking mode, for example.&lt;/p&gt;
&lt;h4 id=&quot;q-so-i-dont-even-have-to-think-about-normal-functions-vs-coroutines-in-my-library&quot;&gt;&lt;a href=&quot;#q-so-i-dont-even-have-to-think-about-normal-functions-vs-coroutines-in-my-library&quot; aria-label=&quot;q so i dont even have to think about normal functions vs coroutines in my library permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Q: So I don’t even have to think about normal functions vs coroutines in my library?&lt;/h4&gt;
&lt;p&gt;No, occasionally you will have to. As an example, if you’re allowing your users to pass to your library function pointers at runtime, you will need to make sure to use the right calling convention based on whether the function is async or not. You normally don’t have to think about it because the compiler is able to do the work for you at compile-time, but that can’t happen for runtime-known values.&lt;/p&gt;
&lt;p&gt;The silver lining is that you have at your disposal all the tools to account for all the possibilities in a simple and clear way. Once you get the details right, the code will be no more complicated than it has to be, and your library will be easy to use.&lt;/p&gt;
&lt;h3 id=&quot;concurrency-and-resource-allocation&quot;&gt;&lt;a href=&quot;#concurrency-and-resource-allocation&quot; aria-label=&quot;concurrency and resource allocation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Concurrency and resource allocation&lt;/h3&gt;
&lt;p&gt;While I wrote the introduction with the average developer in mind, you need to be aware that Zig is not a dynamically typed language and, on top of that, it puts in your hands a lot of power (and responsibility) when it comes to resource management. If you know how to do async/await in C#, JavaScript, or Python, for example, you won’t be able to immediately know how to do &lt;em&gt;everything&lt;/em&gt; in Zig.&lt;/p&gt;
&lt;p&gt;In particular, garbage-collected languages hide from you where the memory is coming from. This makes things much easier for the programmer, but the price for this extra ease is shouldered entirely by the machine. This is nothing new and it’s a trade-off very often worth doing but, especially when it comes to async/await, it’s  problematic because you lose control of how much memory you’re consuming, eventually over-committing and encountering issues when under heavy load (see
&lt;a href=&quot;https://lucumr.pocoo.org/2020/1/1/async-pressure/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;this blog post&lt;/a&gt;
for more info).&lt;/p&gt;
&lt;p&gt;One of the main points of Zig is to make resource allocation always clear and manageable. When it comes to async/await, this means that all the memory required to run a coroutine is represented by its underlying async frame. Once you have a frame (be it because it’s static memory or because the corresponding dynamic allocation succeded), then you know the coroutine will be able to run to completion without problems. In the context of a HTTP server, for example, this means that you will be able to know upfront if you have enough resources to accept a connection or not, without encountering unrecoverable error conditions.&lt;/p&gt;
&lt;h2 id=&quot;a-final-word-on-concurrency-in-zig&quot;&gt;&lt;a href=&quot;#a-final-word-on-concurrency-in-zig&quot; aria-label=&quot;a final word on concurrency in zig permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;A final word on concurrency in Zig&lt;/h2&gt;
&lt;p&gt;Up until now, I’ve only talked about the language features that implement coroutines. I haven’t mentioned all of them but, more importantly, I haven’t talked about the event loop. In Zig, the event loop is part of the standard library and the idea is to make it swappable.&lt;/p&gt;
&lt;p&gt;At the moment of writing, there’s still a lot of work to do on the event loop, but you can already try everything out today. The current implementation is already multi-threaded, in case you were wondering. Just go to &lt;a href=&quot;https://ziglang.org&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ziglang.org&lt;/a&gt;, download the latest version, and take a look a the docs.&lt;/p&gt;
&lt;h4 id=&quot;and-what-about-go&quot;&gt;&lt;a href=&quot;#and-what-about-go&quot; aria-label=&quot;and what about go permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;…And what about Go?&lt;/h4&gt;
&lt;p&gt;Ah, yes. Go — alongside a few other languages in fact — doesn’t have function coloring problems. Andrew mentions Go in his part of the aforelinked talk, but I’ll give my two cents here.&lt;/p&gt;
&lt;p&gt;If you’ve read my blog before, you know that I like Go. I think that goroutines are generally preferable to async/await in application-level programming, especially when it comes to server-side applications, which I believe to be Go’s main domain.&lt;/p&gt;
&lt;p&gt;I think goroutines are preferable in that context because async/await is a much lower level tool that is easy to misuse, but when it comes to writing code with critical requirements of correctness and efficiency, you need async/await and you need Zig’s philosophy that we all should strive to write &lt;strong&gt;robust&lt;/strong&gt;, &lt;strong&gt;optimal&lt;/strong&gt;, and &lt;strong&gt;reusable&lt;/strong&gt; software.&lt;/p&gt;
&lt;style class=&quot;vscode-highlight-styles&quot;&gt;:root {
  --vscode-highlight-padding-v: 1rem;
  --vscode-highlight-padding-h: 1.5rem;
  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);
  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);
  --vscode-highlight-border-radius: 8px;

  --vscode-highlight-line-highlighted-background-color: transparent;
  --vscode-highlight-line-highlighted-border-width: 4px;
  --vscode-highlight-line-highlighted-border-color: transparent;
}

.vscode-highlight {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-top: 1rem;
  padding-top: var(--vscode-highlight-padding-top);
  padding-bottom: 1rem;
  padding-bottom: var(--vscode-highlight-padding-bottom);
  border-radius: 8px;
  border-radius: var(--vscode-highlight-border-radius);
  font-feature-settings: normal;
}

.vscode-highlight-code {
  display: inline-block;
  min-width: 100%;
}

.vscode-highlight-line {
  display: inline-block;
  box-sizing: border-box;
  width: 100%;
  padding-left: 1.5rem;
  padding-left: var(--vscode-highlight-padding-left);
  padding-right: 1.5rem;
  padding-right: var(--vscode-highlight-padding-right);
}

.vscode-highlight-line-highlighted {
  background-color: var(--vscode-highlight-line-highlighted-background-color);
  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);
}
.dark-default-dark {
background-color: #1E1E1E;
color: #D4D4D4;
}

.dark-default-dark .mtk1 { color: #D4D4D4; }
.dark-default-dark .mtk2 { color: #1E1E1E; }
.dark-default-dark .mtk3 { color: #6A9955; }
.dark-default-dark .mtk4 { color: #569CD6; }
.dark-default-dark .mtk5 { color: #D16969; }
.dark-default-dark .mtk6 { color: #D7BA7D; }
.dark-default-dark .mtk7 { color: #B5CEA8; }
.dark-default-dark .mtk8 { color: #CE9178; }
.dark-default-dark .mtk9 { color: #646695; }
.dark-default-dark .mtk10 { color: #4EC9B0; }
.dark-default-dark .mtk11 { color: #DCDCAA; }
.dark-default-dark .mtk12 { color: #9CDCFE; }
.dark-default-dark .mtk13 { color: #000080; }
.dark-default-dark .mtk14 { color: #F44747; }
.dark-default-dark .mtk15 { color: #C586C0; }
.dark-default-dark .mtk16 { color: #6796E6; }
.dark-default-dark .mtk17 { color: #808080; }
.dark-default-dark .mtki { font-style: italic; }
.dark-default-dark .mtkb { font-weight: bold; }
.dark-default-dark .mtku { text-decoration: underline; text-underline-position: under; }&lt;/style&gt;</content:encoded></item><item><title><![CDATA[The Upcoming Future of Online Meetups]]></title><description><![CDATA[As we adventure into the phase where society needs to learn to cohabit with the virus, the tech industry comes to the full realization that…]]></description><link>https://kristoff.it//blog/future-online-meetups/</link><guid isPermaLink="false">https://kristoff.it//blog/future-online-meetups/</guid><pubDate>Fri, 12 Jun 2020 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;As we adventure into the phase where society needs to learn to cohabit with the virus, the tech industry comes to the full realization that in-person conferences and meetups are not going to resume anytime soon. Good, but not good enough, especially when it comes to online events.&lt;/p&gt;
&lt;p&gt;Organizers have had enough time to think it through, and yet we are still seeing many of them host what are basically extracurricular meetings. If you join a conference now, you are likely to see something straight out of The Matrix, where humans are not born, but grown in fields. &lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 49.427168576104755%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACkUlEQVQozx2R3VfaBhiH89/0Yhe78KyrHd20WkqtrOps/YIgHyKRKIGEkJAvIIEg31Bd7Wqnbdez7mb/4rOc3T/nvM/veYXw8paJa9K1bP79ckv1tEB4OUGtKHQdk5Ztc//hjllvSOgF3E0X3M9u+PbPHb5j0W6e8n7R59vHv5gEfQRDa9APQmyzSaOcYT+5wft5j37HoVIU2d96iWu5NDWLYllnX5TxrA7vfp/yYdLjeuTimHWG4RjP6yG4ts408HCMc6xqBjkr8vL5DyQTa0jZPPF4AllrUdSGSI2Q9GGGmqJja1W+RIfl4xyGquKqF8wWfyBIZyqKYmFoNWZBi9zuK14nN+m2ehFokD4QqckqLcsn7AyY+G3mbZVRx8CrljlKrnMhy0hGH7HaRijkTph3PWoVmWHHpZYTUSNg2pswipp1bA+rojFyHMZtn9xhmqOtDexqkburBU5dYTctkZCu+PlVHiG185TbVgo395A/b95xOx7QGlxTCO5x3TEXZsj21huUs3NevNggf5QhsbpO/FmcceDjux0s+xLfjNbtHyDU1QaDIOB07ynxlWfoJYl8Kk2+6lMxLimpbZJRR1fTyaQO2dlMsP7TIzajLIZu8fnTJ8qlCts7h0hKHWF49fn/Lh1VZvn7x5z/usfaUoyxP2eYLXGSytCoSLSqMns7Wzx58oi1X2KI5yd8/fsr5VyW1XgWvabT9X2EZqS6GE4ZjEbY1x5Vq0iqnKJRb6CLGWLLMZRKOZpmsfTdA5rHv5GNxzjY3WQeibhSkaDtYEe8fKogrKysoCkaP64+xvoY8HZkUF9oNEyNm+mM3TevKYlpzGKO5YdLTIwygXyMGRmfiSdsrz5nEnrRYx3kQoH/AF5F0ITDvmV6AAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7ae91ba4963c6f024ba73da2bf2384f6/f5e3c/nightmare.webp 100w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/f2fbe/nightmare.webp 200w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/e227a/nightmare.webp 400w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/965c5/nightmare.webp 600w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/f1182/nightmare.webp 611w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7ae91ba4963c6f024ba73da2bf2384f6/c0399/nightmare.png 100w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/9ec3c/nightmare.png 200w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/c7805/nightmare.png 400w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/34e8a/nightmare.png 600w,
/static/7ae91ba4963c6f024ba73da2bf2384f6/f21ab/nightmare.png 611w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/7ae91ba4963c6f024ba73da2bf2384f6/c7805/nightmare.png&quot;
          alt=&quot;A nightmare.&quot;
          title=&quot;Yes, meetups and conferences are also about social interaction, but not like this.&quot;
        /&gt;
      &lt;/picture&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Yes, meetups and conferences are also about social interaction, but not like this.&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-third-hardest-problem-in-computer-science&quot;&gt;&lt;a href=&quot;#the-third-hardest-problem-in-computer-science&quot; aria-label=&quot;the third hardest problem in computer science permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The third hardest problem in Computer Science&lt;/h2&gt;
&lt;p&gt;The journey that brought me to rethinking online events started with a moment of self-reflection. &lt;/p&gt;
&lt;p&gt;In IT we think of ourselves as innovators and heroes but in fact, we’re just normal people with a hammer in our hands and the conviction that everything is a nail. In our defense, the hammer we hold is a pretty good one that can solve a lot of modern problems, but not all problems can be solved by technology alone and our general success sometimes makes us forget that.&lt;/p&gt;
&lt;blockquote class=&quot;twitter-tweet&quot; style=&quot;color:inherit;&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;The 3rd hardest problem in computer science, right after naming things, cache invalidation, and off by one errors, is recognizing when a problem can&amp;#39;t be solved by technology alone.&lt;/p&gt;&amp;mdash; &lt;a href=&quot;https://twitter.com/croloris/status/1264391714539741184?ref_src=twsrc%5Etfw&quot;&gt;@croloris on Twitter&lt;/a&gt; May 24, 2020&lt;/blockquote&gt;
&lt;p&gt;More concretely, as much as I am dissatisfied with events run on Zoom &amp;#x26; co., the tool is not the problem, and changing it won’t be enough to produce better outcomes. So where do we find a hammer for this specific nail? It turns out that occasionally people working outside of IT can be innovators and heroes too. In our case, this particular hammer was forged in 1964.&lt;/p&gt;
&lt;center&gt;&lt;b&gt;“The medium is the message.”&lt;/b&gt;&lt;/center&gt;&lt;br&gt; 
&lt;p&gt;You surely heard that phrase before, alongside many other sayings of dubious value. But this one is genuinely useful. In our context, it means that you won’t be able to successfully replicate the essence of in-person meetups over an online medium because their original structure was never the result of an entirely deliberate choice, but rather a compromise heavily influenced by the intrinsic characteristics of the original communication medium.&lt;/p&gt;
&lt;p&gt;Here’s a 5-minute video that explains the concept in broader terms, I highly recommend you watch it.&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube-nocookie.com/embed/OseOb_wBsi4&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;p&gt;&lt;br&gt;To make online events better, we need to deconstruct meetups into their raw ingredients and understand what we have to give up and, more importantly, what we can gain. A blog post doesn’t offer enough space to do a full in-depth analysis (DM me on Twitter if you need a consultation), so I’ll just report my experience running a new type of event and leave to the reader the job of extrapolating any useful tip from my recount.&lt;/p&gt;
&lt;h2 id=&quot;welcome-to-zig-showtime&quot;&gt;&lt;a href=&quot;#welcome-to-zig-showtime&quot; aria-label=&quot;welcome to zig showtime permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Welcome to Zig SHOWTIME&lt;/h2&gt;
&lt;p&gt;On the 30th of May, I hosted the first-ever “zig online meetup”. I opened a call for speakers a couple of weeks earlier and luckily received a few applications right away. While I did refer to it as an online meetup, I clarified immediately that the name was temporary and that people should think of it as a live-streamed show, more than anything else.&lt;/p&gt;
&lt;p&gt;The day came, the intro aired, and at that point people understood that I was serious about it not being just a meetup.&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 60.967741935483865%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://clips.twitch.tv/embed?clip=RamshackleArbitraryBillJKanStyle&amp;amp;autoplay=false&amp;amp;parent=kristoff.it&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;true&quot; scrolling=&quot;no&quot; style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;center&gt;&lt;i&gt;If you click on the Twitch logo you&apos;ll be able to see the comments.&lt;/i&gt;&lt;/center&gt;
&lt;p&gt;&lt;br&gt;A bit of production quality is a nice touch and helps in setting a tone, but that alone is not enough, so let’s talk about how the show is structured.&lt;/p&gt;
&lt;h3 id=&quot;the-show-format&quot;&gt;&lt;a href=&quot;#the-show-format&quot; aria-label=&quot;the show format permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The show format&lt;/h3&gt;
&lt;p&gt;The show is titled “Zig SHOWTIME”, which is in part a wordplay on a keyword unique to the language: &lt;code&gt;comptime&lt;/code&gt;. It airs on my Twitch channel and I’m the host. An episode features two speakers, each of whom presents a session that lasts between 10 and 30 minutes, followed by a short Q&amp;#x26;A. The show is meant to be less than 2 hours long and there’s a 10 minutes break in the middle, between the first and second session.&lt;/p&gt;
&lt;p&gt;Zig SHOWTIME doesn’t always air at the same time. I have a call for speakers open and, depending on the respective availability of the speakers, the show will be scheduled on a different day, or at a different time. That probably sounds obvious, but you’d be surprised by how many events are still trying to be California-centric for absolutely no good reason. The expectation for Zig SHOWTIME is that some episodes will be easy for you to watch live and some will not — regardless of where you live — but in all cases, you will be able to &lt;a href=&quot;https://www.youtube.com/channel/UC2EQzAewrC10KCDFSS4j-zA&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;find all recordings on YouTube&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The speakers and I interact with the community in the Q&amp;#x26;A part of each talk. Viewers ask questions to the speaker by sending a chat message directed at me, and I’ll read it out loud to the speaker. This is where things become a little bit interesting with the Zig community in particular, because Twitch chat is not the only way to ask questions and interact with other viewers.&lt;/p&gt;
&lt;h3 id=&quot;meet-the-decentralized-zig-community&quot;&gt;&lt;a href=&quot;#meet-the-decentralized-zig-community&quot; aria-label=&quot;meet the decentralized zig community permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Meet the decentralized Zig community&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ziglang/zig/wiki/Community&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Zig has no official place of gathering&lt;/a&gt;. At the moment of writing, there’s an IRC channel, a Discord server, and a few other places. Each place is managed by different people and has different rules. While the communities partially overlap each other, the topics of discussion and general tone change from place to place.&lt;/p&gt;
&lt;p&gt;During Zig SHOWTIME some people feel the most comfortable participating in Twitch chat, while some others prefer the more reserved environment of their community of choice. During the Q&amp;#x26;A I look in all places for messages directed at me so that people can stay where they feel comfortable.&lt;/p&gt;
&lt;p&gt;Another fortunate property of this system is that when the view base will grow (the first episode had around 100 concurrent viewers), Twitch chat will inevitably devolve into a stream of collective consciousness, and at that point, the various communities will play a key role. &lt;/p&gt;
&lt;p&gt;The beauty of this model is not only that it can scale alongside the stream, but also that it makes good use of the work done by the different community administrators and builds upon the relationships that people have created over time in each place. Zig SHOWTIME would be a much worse show if it had Twitch chat as the only way for viewers to interact, and it wouldn’t be as good if it required people to join a new Discord/Slack/IRC channel.&lt;/p&gt;
&lt;h2 id=&quot;the-future-of-zig-showtime&quot;&gt;&lt;a href=&quot;#the-future-of-zig-showtime&quot; aria-label=&quot;the future of zig showtime permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The future of Zig SHOWTIME&lt;/h2&gt;
&lt;p&gt;I’m planning to make many improvements to the show, starting from polishing scene transitions, to tweaking the format itself, but right now the imperative is to grow the show. The biggest thing I’ve done in that regard is to aim for a weekly schedule. Normally meetups don’t happen this frequently, but that’s just another difference between the two mediums, as a weekly cadence works great for both Twitch and especially YouTube.&lt;/p&gt;
&lt;p&gt;If you’re curious to see where this whole idea will go, &lt;a href=&quot;https://youtu.be/Unq712gqu2U&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;here you can watch the first episode&lt;/a&gt;, while all other links (including a call for speakers) are available at &lt;a href=&quot;https://zig.show&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://zig.show&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;See you at showtime!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[So you're a Remote Worker Now]]></title><description><![CDATA[A virus goes pandemic and now you’re not allowed to go to the office anymore. Welcome to the remote worker’s club. I’ve been a member for…]]></description><link>https://kristoff.it//blog/remote-worker-now/</link><guid isPermaLink="false">https://kristoff.it//blog/remote-worker-now/</guid><pubDate>Sat, 04 Apr 2020 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A virus goes pandemic and now you’re not allowed to go to the office anymore. Welcome to the remote worker’s club. I’ve been a member for nearly 1.5 years, and it’s been one of the best work experiences of my life. No commute, the comfort of your home, cooking your own meals; what’s not to like? Well, for some, a lot. I’ve had a fantastic experience but it’s a peculiar equilibrium and you might have already discovered that it’s not really working out for you.&lt;/p&gt;
&lt;p&gt;Is the secret to productivity a boss that keeps you on track? A good pair of headphones? Maybe putting on your “work clothing” in the morning and changing after you clock out? I think not, so let me try to put things in perspective and talk about what you really need.&lt;/p&gt;
&lt;h2 id=&quot;1-good-communication-with-yourself&quot;&gt;&lt;a href=&quot;#1-good-communication-with-yourself&quot; aria-label=&quot;1 good communication with yourself permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Good communication with yourself&lt;/h2&gt;
&lt;p&gt;When you’re working remotely, you’re spending most of your time alone. You might have your family with you, but they are most probably not directly involved with what you do. From the moment you sit in front of the computer, you’re alone with yourself. It’s hard to keep pretending that you like something when you don’t and there is no social pressure to make you act like you do. Some people have spent all their life forcing themselves to like their job and so they never exercised this muscle. The result is that the change makes them feel confused and think that at home they just get distracted too easily.&lt;/p&gt;
&lt;p&gt;To be fair, that’s not the full story. Sometimes you might just be tired and feel like watching YouTube all day even though you do like your job. Furthermore, some people might feel more comfortable than others in trying to learn how to do things in solitude. If you’re somebody who truly loves interacting with people, supporting (and being supported by) them, then yes, working remotely is going to cause some stress and in the long run it might make you just want to look at social media all day.&lt;/p&gt;
&lt;p&gt;Regardless of which bucket you fall in, remote work will force you to look at yourself in the eyes. If you’re somebody who is able to find a sustainable compromise with yourself, then rituals like changing clothes when clocking off might help reinforce the agreement, &lt;strong&gt;but for everybody else those are just tricks that they’re at the same time too dumb to pull off, and too smart to fall for&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Learn to understand what you really want to do and how far you can push yourself. While you don’t need to be an ESPer, don’t make the mistake of thinking that just because it’s “you”, that you are fully in control. As a recommendation, start by regularly asking yourself “What do I want to do next?”.&lt;/p&gt;
&lt;h2 id=&quot;2-good-communication-with-your-colleagues&quot;&gt;&lt;a href=&quot;#2-good-communication-with-your-colleagues&quot; aria-label=&quot;2 good communication with your colleagues permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Good communication with your colleagues&lt;/h2&gt;
&lt;p&gt;When you work remotely you can’t see your colleagues sitting next to you. There is no natural coffee break where you both get up and exchange some thoughts while you walk to the coffee machine. This is just one example of the many types of non-verbal communication that we leverage in an in-person environment to support our verbal communication.&lt;/p&gt;
&lt;p&gt;When you’re part of a remote team you have to be much more deliberate with your communication. As software engineers we should already be familiar with this concept from networked communication: hosts can’t “see” each other and so you need heartbeats and other strategies to know the current state of the network. Software engineers working under agile methodologies have been partially addressing this problem with the daily standup.&lt;/p&gt;
&lt;p&gt;The ability to communicate is one of those soft skills that I’ve always seen considered as &lt;em&gt;vaguely&lt;/em&gt; important, but I assure you it’s a non-trivial skill to acquire and in a remote job you will need it sorely. My recommendation for “horizontal” communication is to set up weekly 1:1 meetings with your colleagues where the only item on the agenda is to chitchat for a while and tell each other how things are going. It might seem awkward at first, maybe even a waste of time, but that’s what allows you to know the state of the network. &lt;/p&gt;
&lt;p&gt;Just make sure to not mix this type of informal meeting with status update meetings because one is not a substitute for the other, &lt;a href=&quot;/blog/good-bad-ugly-standup/&quot;&gt;as I’ve already complained about&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;3-good-communication-with-your-bosses&quot;&gt;&lt;a href=&quot;#3-good-communication-with-your-bosses&quot; aria-label=&quot;3 good communication with your bosses permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Good communication with your bosses&lt;/h2&gt;
&lt;p&gt;If your company wasn’t allowing remote working before, chances are that one of the reasons was that management felt like productivity would go down if people weren’t sitting at their desk for at least 8h, five days a week. In 2020, in tech, this is an idiotic, antediluvian line of reasoning, but I will nevertheless acknowledge the rationality behind it. &lt;/p&gt;
&lt;p&gt;As I’ve already said, working from home is a wildly different thing than working in an office. You really need a good fit with your role to do well in the long term, and you do need to be more effective when communicating. As of yesterday, this was not the predominant work model and  so it was much harder to hire effectively for it. Many workplaces are empires built upon workers that fit their role badly, where communication is often an afterthought, and where hierarchical pressure is the main, overwhelming force that keeps things together. I’ve done enough consultancy to have seen first hand the meat grinder upon which we have built modern tech.&lt;/p&gt;
&lt;p&gt;Those types of hierarchies would crumble when put under the extra constraints that remote work imposes and so the management’s self preservation instinct kicks in and makes it stay away from an unnecessary risk. But what about now?&lt;/p&gt;
&lt;p&gt;Remote work forces a new equilibrium. You can look at your open-space office and make sure people are not wasting too much time chatting in front of the coffee machine, but you can’t do the same when they are working remotely. I’m sure a few managers are still going to try to look at the green dot on Slack or some other equally bad proxy, but the reality is that in this new situation the only effective way of gauging productivity is to know how to quantify outputs.&lt;/p&gt;
&lt;p&gt;If your manager never understood how much work you actually did, then I have some bad news, maybe for you, but most certainly for them. &lt;/p&gt;
&lt;h2 id=&quot;covid-xix-a-hope-for-a-new-format&quot;&gt;&lt;a href=&quot;#covid-xix-a-hope-for-a-new-format&quot; aria-label=&quot;covid xix a hope for a new format permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;COVID XIX: A hope for a new format&lt;/h2&gt;
&lt;p&gt;I’m a computer scientist and I imagine my audience is mostly people working in tech, but I’ll try to parrot some concepts from the media industry: moving in-person activities to on-line requires us to rethink how (and what) we communicate. &lt;strong&gt;The medium has changed and so must the message&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The practical constraints of this new situation have already begun to impose a change in how we work. We can try to hold unto the good things we had before, but eventually we will have to let go of what doesn’t work anymore and open to what now does.&lt;/p&gt;
&lt;p&gt;Think about the differences between theater and TV. Until yesterday we all drove to the same place, relatively well-dressed, looking at the scene from multiple angles at once, chatting with who was sitting next to us. Now we’re at home, in our pajamas, looking at the only angle that our colleagues’ webcams offer us.&lt;/p&gt;
&lt;p&gt;Could you imagine if all live TV shows were structured like theater operas? We all would find it a weird, less effective way of doing TV, and yet I’m sure that your business is trying right now to maintain the same exact processes it had before, just with Zoom added to the mix. &lt;/p&gt;
&lt;p&gt;If you want to hear successful people explain more in detail how a good remote-first workplace looks like, check out this podcast episode titled “&lt;a href=&quot;https://samharris.org/podcasts/194-new-future-work/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;The New Future of Work&lt;/a&gt;”, where Sam Harris interviews Matt Mullenweg from Automattic. I found it pretty much on point.&lt;/p&gt;
&lt;p&gt;Personally, I can’t complain. My company is globally-distributed and as I said, it’s been a good 1.5 years. I’m a Developer Advocate, which means (among other things) that I travel to conferences and try to speak about topics related to what my employer sells. As you can imagine the travel is not happening anymore and that whole industry had to shift everything to an online format. The results are… not great. Granted, there hasn’t been enough time to do much else and I’m sure things will get better, but for now events are airing theatrical operas, basically.&lt;/p&gt;
&lt;p&gt;It’s funny to me seeing a lot of professionals in this industry scramble to learn how to use OBS, Discord, Twitch, Mixer, etc. I’ve been watching Twitch for a long time and, what until yesterday was a waste of time, now seems almost a good investment? I wonder how they will react when someone calls them pepega in chat for the first time. &lt;/p&gt;
&lt;p&gt;I don’t think that the world will change drastically after the global lockdown ends, but there will be some serious shifts in some industries and no better time to be creative than when new constraints invalidate old assumptions. &lt;/p&gt;
&lt;p&gt;While being a better worker won’t make you save any life, it will hopefully make it easier for you to provide for yourself and those you are responsible for, which in the current climate it’s a non trivial achievement.&lt;/p&gt;
&lt;p&gt;I started my own Twitch channel where I live code stuff and my first project was a multi-language library that I think came out fairly well so, if you have some time to kill, &lt;a href=&quot;https://twitch.tv/kristoff_it&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;come gather &lt;img alt=&quot;bugs&quot; title=&quot;bugs&quot; style=&quot;height: 1.5rem; vertical-align: middle;&quot; src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAYAAADG4PRLAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABCRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjExMjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MTEyPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAg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&quot;&gt; with me&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Good, the Bad and the Ugly Standup]]></title><description><![CDATA[It’s not always easy to understand what makes meetings successful and since Zen stories aren’t the learning tool of choice in the business…]]></description><link>https://kristoff.it//blog/good-bad-ugly-standup/</link><guid isPermaLink="false">https://kristoff.it//blog/good-bad-ugly-standup/</guid><pubDate>Sat, 25 Jan 2020 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;It’s not always easy to understand what makes meetings successful and since Zen stories aren’t the learning tool of choice in the business world, we have certified practitioners teach people what they call “ceremonies”: rituals that you’re supposed to imitate with the expectation that, hopefully, illumination will eventually dawn on you.&lt;/p&gt;
&lt;p&gt;I don’t claim to know everything about agile and I won’t even try to recap any part of its history, or what the agile manifesto meant to say (or not say), but I’ve had a few different types of standup meetings in my professional life. Reading of my experiences will maybe entertain you and, hopefully, even help you eventually have better meetings.&lt;/p&gt;
&lt;p&gt;In the beginning, I worked in academia mostly by doing data science for research groups. At that time I’d only heard stories of the rough life in the West (i.e., the industry). I had no standup meetings, no sprints, and more importantly, no customers. &lt;/p&gt;
&lt;p&gt;Then I joined a software consultancy firm.&lt;/p&gt;
&lt;h2 id=&quot;the-bad&quot;&gt;&lt;a href=&quot;#the-bad&quot; aria-label=&quot;the bad permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Bad&lt;/h2&gt;
&lt;p&gt;In my first standup we were about 20 people in total. We would gather in a conference room and wait for the engineering manager to start the meeting. Once we started, one after another we would say what we did the day before, what we planned to do on the present day, and if we had encountered any blocker. I’m sure you know this prayer already.&lt;/p&gt;
&lt;p&gt;As I mentioned, this was a consultancy firm, so the people in the standup meeting were all working on different projects, which made the standup mostly useless. I would talk about my project, boring those who didn’t know the context, and they would return the favor afterwards. The only one who was never bored was the engineering manager.&lt;/p&gt;
&lt;p&gt;We all knew that this meeting was a way for him to know who was busy on a project and who was free (or about to be). People would bounce from project to project sometimes doing billable work, sometimes not, and this meeting allowed the engineering manager to have a daily overview of what everybody was doing.&lt;/p&gt;
&lt;p&gt;The worst was when the engineering manager was on leave. We would still hold the same meeting with the same format, all 20 developers, but for the benefit of no one. That infuriated me.&lt;/p&gt;
&lt;p&gt;The meeting was short, we did it while literally standing up, the three ceremonial questions were answered, and yet it was a complete waste of time for all but one person in the room. This was an unequivocally bad standup.&lt;/p&gt;
&lt;h2 id=&quot;the-ugly&quot;&gt;&lt;a href=&quot;#the-ugly&quot; aria-label=&quot;the ugly permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Ugly&lt;/h2&gt;
&lt;p&gt;Fast-forward a couple of months and a new big project starts, causing the original standup to be broken into two: one for the big project, and one for everyone else. I was assigned to the big project, so I was also moved to the new meeting.&lt;/p&gt;
&lt;p&gt;This new standup introduced two big changes: &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;everyone was working on the same project,&lt;/li&gt;
&lt;li&gt;in place of the engineering manager we now had a project manager and the enterprise architect in charge of the project.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The PM would lead the meeting and, like before, everyone would answer the three questions — except now there would often be a bit of back and forth with the architect about details, clarifications about user stories, or some other exchange of information. That felt like a big improvement.&lt;/p&gt;
&lt;p&gt;The flipside was that the chatting would regularly force the PM to remind everyone about the purpose of the “daily scrum” (aka the standup) and that long discussions should be moved to a separate meeting. &lt;/p&gt;
&lt;p&gt;For as long as the standup kept this format we were never able to find a balance, which felt weird because the standup had finally started to be useful, but there was a clear conflict between the stated purpose of the meeting and the type of information exchanged.&lt;/p&gt;
&lt;p&gt;This standup too had the “on leave” problem. Without the PM we would often go down rabbit holes, and without the architect we would be missing all the good interactions.&lt;/p&gt;
&lt;p&gt;There wasn’t anything glaringly terrible with this meeting, but it wasn’t that good either: it was an ugly standup.&lt;/p&gt;
&lt;h2 id=&quot;the-good&quot;&gt;&lt;a href=&quot;#the-good&quot; aria-label=&quot;the good permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Good&lt;/h2&gt;
&lt;p&gt;Let’s skip forward a few months more and now the project is getting even bigger. From one team we went to two, then three, and now were about to add a fourth team.&lt;/p&gt;
&lt;p&gt;The latest change in scope forced both architect and PM to leave my team’s standup and so now we were left to our own devices. I should also add that originally our standup included people from quality assurance, but now QA had become a project-wide cross-team group and had their own meeting.&lt;/p&gt;
&lt;p&gt;Now my standup meeting included only 4 developers not only working on the same project, but also on the same repository, and there were was no management in it.&lt;/p&gt;
&lt;p&gt;The meeting now wasn’t anymore about proving that we actually did something the day before, planned to do something on the present day, and assuring everybody that no time was being wasted. Since there were no more managers, the tone had changed drastically.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Now we would use the meeting entirely to make tactical decisions about which task to tackle next&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Was the frontend developer waiting for me to formalize the HTTP API? We would agree to discuss it immediately after the meeting, and maybe I could delay implementing the logic behind the interface depending on my needs.&lt;/p&gt;
&lt;p&gt;If two tasks looked like they would require similar implementations we would agree to do pair programming or investigate the similarity somehow. This way we would avoid reinventing the wheel (at least within the team).&lt;/p&gt;
&lt;p&gt;This way of communicating made us tackle complex tasks first, coordinate whenever it seemed a good idea, and it also let us really acknowledge “blockers” not out of loyalty towards the company (hah!), but out of respect for each other. &lt;strong&gt;In other words, we made a point of making this standup a tool for making our own lives easier.&lt;/strong&gt; Now this meeting made sense always, no matter who was missing.&lt;/p&gt;
&lt;p&gt;I experienced this standup format both in-person (in Italy) and remotely (from Singapore), and it was always good.&lt;/p&gt;
&lt;h2 id=&quot;once-upon-a-time-in-software-development&quot;&gt;&lt;a href=&quot;#once-upon-a-time-in-software-development&quot; aria-label=&quot;once upon a time in software development permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Once upon a time in software development&lt;/h2&gt;
&lt;p&gt;It’s interesting to me how all these changes happened within the same company department over a relatively short timespan. By reading this article you would think that everything got progressively better, but the reality was much messier than what the previous chapters would suggest. &lt;/p&gt;
&lt;p&gt;The enterprise architect doubled as many other roles and the reason why him and the PM stopped running standup meetings was because, as the project moved forward, new fires would pop up every day in other parts of the development process and so they had to divert their attention away from my team, which was doing relatively fine.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This means that what allowed us to stumble upon the Good standup was a long series of other problems&lt;/strong&gt;, and in fact we might not even have understood the point of standup meetings without having first gone through the previous stages. Being battle-hardened is what made us truly appreciate the importance of taking care of each other.&lt;/p&gt;
&lt;p&gt;Going back to my original point, it’s clear how even though all companies say they “do agile”, in fact most don’t; they just do random meetings while standing up, which produces bad results that I consider right-out offensive towards developers.&lt;/p&gt;
&lt;p&gt;Following religiously a methodology is not going to produce good results either. The details that make up a good meeting are subtle and the pursuit of an &lt;a href=&quot;https://www.youtube.com/watch?v=GzQjGhD5tSU&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;artificial standard of aesthetics&lt;/a&gt; &lt;sup&gt;[1]&lt;/sup&gt; will prevent you from doing the necessary experimentation to improve from an ugly equilibrium.&lt;/p&gt;
&lt;p&gt;The standup that worked for my team might differ in some details from the one that works best for yours. What matters is that you &lt;strong&gt;refuse to accept solutions that come at your expense without giving anything back&lt;/strong&gt;, but that you also maintain the mindfulness necessary to know that some details might be wrong even when everyone has the best of intentions and all the checkboxes are ticked.&lt;/p&gt;
&lt;p&gt;To put this in a more Zen way,&lt;br&gt;
&lt;em&gt;the imitation of a frog is a frog, but a frog doesn’t try to be a frog.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;small&gt;&lt;i&gt;&lt;sup&gt;[1]&lt;/sup&gt; The linked video is quite literally business-porn. Managers who strive to imitate it are even more embarrassing than teenagers that try to imitate what they saw on regular-porn websites.&lt;/i&gt;&lt;/small&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Why Go and not Rust?]]></title><description><![CDATA[Imagine you’re a developer who mainly works with Go. You go to an event and, while chatting with some people, you decide to share with them…]]></description><link>https://kristoff.it//blog/why-go-and-not-rust/</link><guid isPermaLink="false">https://kristoff.it//blog/why-go-and-not-rust/</guid><pubDate>Mon, 09 Sep 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Imagine you’re a developer who mainly works with Go. You go to an event and, while chatting with some people, you decide to share with them the news that you wrote a small tool that does &lt;em&gt;something&lt;/em&gt;. You claim that since you wrote it in Go, it’s fairly fast, it’s a single binary, etc. The group seems pleased with your recount and you start feeling good, but then you notice a stranger approaching from behind. A bone-chilling wind blows and you hear: “Why Go and not Rust?”&lt;/p&gt;
&lt;p&gt;You start feeling less good. Well, you could answer that Go is what you know, so that’s what you used to solve your problem, but that’s probably not going to be a satisfactory answer. You were pridefully talking about how fast your tool was in the first place, and it’s obvious that the stranger is going to counter your simplistic excuse with all the great benefits that Rust brings over Go.&lt;/p&gt;
&lt;p&gt;You start feeling bad. Why did you choose to learn Go in the first place? You were told that Go is fast and that it has great concurrency primitives, and now Rust comes along and everybody is saying that Rust is better in every aspect. Were they lying before or are they lying now? While there is no single language to rule them all, you know that it’s still possible to make bad choices and end up in a technological cul de sac. After all, you did choose Go over &lt;em&gt;that&lt;/em&gt; other language a few years ago and you were pretty pleased with the routine of joining circles to ask “Why &lt;em&gt;that&lt;/em&gt; and not Go?”&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;While the story above is 100% the result of my imagination, it’s no secret that the Rust fandom has a few &lt;em&gt;overexcited&lt;/em&gt; members who feel compelled to enlighten every lost soul about the virtues of the Crab-God. This isn’t really Rust’s fault, every successful project will have misbehaving followers, it’s inevitable. While everyone has to deal with these people, I feel that Go developers are particularly susceptible to their behavior because of how much Rust’s and Go’s &lt;a href=&quot;https://courses.lumenlearning.com/ivytech-mktg101-master/chapter/reading-defining-the-message/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;messaging&lt;/a&gt; overlap.&lt;/p&gt;
&lt;p&gt;Go is fast, but Rust is faster.  &lt;/p&gt;
&lt;p&gt;Go has an efficient garbage collector, but Rust has static memory management.  &lt;/p&gt;
&lt;p&gt;Go has great concurrency support, but Rust has provably-correct concurrency.&lt;/p&gt;
&lt;p&gt;Go has interfaces, but Rust has traits and other zero-cost abstractions.&lt;/p&gt;
&lt;p&gt;If you’re a Go developer you might feel a bit cheated. In contrast, Python developers are not particularly fazed by Rust. They know that Python is in many ways slow and inefficient, and they’re fine with that because they know Python’s role: make the code easy to write and offload to C when performance matters.&lt;/p&gt;
&lt;p&gt;What about Go? &lt;/p&gt;
&lt;h2 id=&quot;go-is-very-good-for-writing-services&quot;&gt;&lt;a href=&quot;#go-is-very-good-for-writing-services&quot; aria-label=&quot;go is very good for writing services permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is very good for writing services&lt;/h2&gt;
&lt;p&gt;Go was created at Google to solve Google problems, which mostly involves dealing with networked services. Go’s concurrency model is a good fit for server-side applications that must primarily handle multiple independent requests, rather than participate in complex result-passing schemes. This is one reason why you’re given &lt;code&gt;go&lt;/code&gt; and not &lt;code&gt;await&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Go has great support for HTTP and related protocols and it doesn’t take long to write a satisfactory web service. In my personal projects, Go proved to be a good alternative to Node.js, especially in situations where I wanted to pin down the interfaces between different components more explicitly than you would do while writing idiomatic JavaScript.&lt;/p&gt;
&lt;p&gt;On top of that, it has great tooling to diagnose concurrency and performance problems, and cross-compilation makes deploying on whichever platform a breeze.&lt;/p&gt;
&lt;h2 id=&quot;go-is-unapologetically-simple&quot;&gt;&lt;a href=&quot;#go-is-unapologetically-simple&quot; aria-label=&quot;go is unapologetically simple permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is unapologetically simple&lt;/h2&gt;
&lt;p&gt;Go takes great pride in offering a limited set of features built-in the language. This makes Go easy to learn and, even more importantly, it ensures that Go projects remain understandable even when growing in size.  The creators of Go like to call it a “boring” language. While we could debate whether the language could use one or two extra things, the idea of forcing people to “do more with less” has proven to be very successful.&lt;/p&gt;
&lt;p&gt;Rust can indeed be as good as Go at doing web services, or even better, but it really cannot beat Go in terms of simplicity. And it’s not just simplicity, Go is also strict about things that other languages are usually more lax about. Go doesn’t want unused variables or imports, files belonging to different packages in the same directory, etc. It even used to complain about projects saved outside of &lt;code&gt;GOPATH&lt;/code&gt; (thankfully that’s not the case anymore). &lt;/p&gt;
&lt;p&gt;Go also doesn’t want any “fingerprints” in the code, so it enforces a single, universal style via &lt;code&gt;go fmt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In truth, none of these things alone is particularly  impressive, but they do describe the mindset that Go wants to impose. Many don’t like it but, in my opinion, it’s a killer feature for some types of development, like enterprise software.&lt;/p&gt;
&lt;h2 id=&quot;go-is-great-for-enterprise-software&quot;&gt;&lt;a href=&quot;#go-is-great-for-enterprise-software&quot; aria-label=&quot;go is great for enterprise software permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is great for enterprise software&lt;/h2&gt;
&lt;p&gt;As I already mentioned, Go was created to solve Google problems, and Google problems are definitely enterprise-scale problems. Whether this was the direct aim of the creators or just the natural result of using it at a Big Corp, Go is indubitably an amazing breath of fresh air in enterprise software development.&lt;/p&gt;
&lt;p&gt;If you have experience in writing enterprise software and tried Go, you probably know what I mean. Here’s a quick summary for everyone else.&lt;/p&gt;
&lt;p&gt;Enterprise development is a very weird beast compared to other kinds of development. If you’ve never done it, you might ask yourself “What the hell is even enterprise software?” I did that kind of development as a consultant for a bit, so here’s my take on the subject.&lt;/p&gt;
&lt;h4 id=&quot;enterprise-software-development-is-about-scale&quot;&gt;&lt;a href=&quot;#enterprise-software-development-is-about-scale&quot; aria-label=&quot;enterprise software development is about scale permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enterprise software development is about scale&lt;/h4&gt;
&lt;p&gt;Not in terms of total number of users, or amount of data. Often that’s the case too, but the defining characteristics are scale of &lt;strong&gt;scope&lt;/strong&gt; and &lt;strong&gt;process&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enterprise software always has a big scope.&lt;/strong&gt; The domain can be big and wide, or narrow but stupidly complex. Sometimes it’s both. When creating software to model such domains, normal programming wisdom falls incredibly short because non-technological concerns out-weight most technological ones. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To unravel complex domains you need a well-structured process.&lt;/strong&gt; You need domain experts, analysts, and a mechanism that lets stakeholders gauge how much progress is being made. It’s also often the case that you, the technologist, don’t know the domain very well. Stakeholders and domain experts often won’t understand technology very well either. &lt;/p&gt;
&lt;p&gt;This pushes further down technological concerns such as efficiency, &lt;strong&gt;and even correctness.&lt;/strong&gt; Don’t get me wrong, the business does care about correctness, but they have a different definition for it. When you’re thinking about algorithmic correctness, they are thinking about a reconciliation back-office for the operations team they keep in a country where labor is cheap.&lt;/p&gt;
&lt;p&gt;Because of the environment resulting from this general premise, a few well-known enterprise development “quirks” have emerged over time. I’ll name three relevant to my point.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;There are a lot of junior developers&lt;/strong&gt; who learn on the job how to program and most are not lucky enough to find a job that will truly teach them anything. In some places, after you’re hired, you are stationed for one week in front of PluralSight and then you’re considered ready to go.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Software projects quickly become huge and complex for all the wrong reasons.&lt;/strong&gt; Big projects take time to build and people (or whole teams) will come and go in the meantime. Constant refactoring is never an option so each will leave behind a lot of code written with very varying levels of quality. Multiple teams working in parallel will produce redundant code. The domain shifts over time, inevitably invalidating older assumptions and consequently causing abstractions to leak. The more sophisticated an abstraction is, the higher the risk that it will become a problem when business comes back with a serious change request.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The toolchain is very often lousy and/or dated.&lt;/strong&gt; This is pretty much the inevitable result of all that I described so far. Huge amounts of old code tie you down to a specific toolset, junior developers will learn the status-quo at best, and the people on top (managers and stakeholders) are extremely often not prepared for making technological decisions based on first-hand experience, the general nature of the endeavor makes them risk-averse, causing them to mainly mimic what other successful players in their space do or, more precisely, what analysts &lt;em&gt;claim&lt;/em&gt; other successful players do.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;go-is-about-suppressing-complexity-at-scale&quot;&gt;&lt;a href=&quot;#go-is-about-suppressing-complexity-at-scale&quot; aria-label=&quot;go is about suppressing complexity at scale permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is about suppressing complexity at scale&lt;/h4&gt;
&lt;p&gt;Go makes teams more successful, partially by giving them more than what they would get with other ecosystems, and partially by taking tools away from them, to prevent common pitfalls.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Go is much easier to learn than Java or C#.&lt;/strong&gt; A faster ramp-up is generally good, but it becomes fundamental when the project is lagging behind, the deadline is approaching, and management inevitably resorts to hiring more people, hoping (in vain) to speed things up.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Go community regards as anti-patterns many abstractions regularly employed by Java / C#&lt;/strong&gt;, like IoC containers, or OOP inheritance, for example. There are only two levels of visibility for variables, and the only concurrency model is CSP. It’s way harder to fall into incomprehensible pitfalls when writing in Go than it is in Java / C#. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Go compiler is fast.&lt;/strong&gt; Which means that running tests is going to be faster in general, that deployments will take less time, increasing the overall productivity.&lt;/p&gt;
&lt;p&gt;With Go, it’s easier as a junior developer to be more productive, and harder as a mid-level developer to introduce brittle abstractions that will cause problems down the line.&lt;/p&gt;
&lt;p&gt;For these reasons, Rust is less compelling than Go for enterprise software development. That doesn’t mean that Go is perfect, or that it’s not true that Rust has some advantages over Go. Rust has many advantages over Go, but more than anything, I would say that it’s the common perception of Go that is wrong.&lt;/p&gt;
&lt;p&gt;Go is not blazing-fast. Go is not super memory-efficient. Go doesn’t have the absolutely best concurrency model. &lt;/p&gt;
&lt;p&gt;Go is faster than Java / C#, more memory-efficient than Java / C#, and definitely has better concurrency than Java / C#. &lt;strong&gt;Go is simple so that all of this can hold true when confronting the average Go program with the average Java / C# program.&lt;/strong&gt; It doesn’t matter whether Go is truly faster than C# or Java in an absolute sense. The average Java / C# application will be very different than the best theoretical program, and the amount of foot guns in those languages is huge compared to Go. If you want an example, &lt;a href=&quot;https://www.youtube.com/watch?v=J0mcYVxJEl0&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;take a look at this talk on C# concurrency&lt;/a&gt;, it’s  incredible in my opinion how the straightforward use of &lt;code&gt;await&lt;/code&gt; is &lt;strong&gt;never&lt;/strong&gt; correct. Imagine how broken must be the average asynchronous C# application. Actually, ASP.NET applications deadlocking for no apparent reason are not uncommon.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/02da8/1*JrvDmC-KS7iL2Aexb-lskA.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.22268907563025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABbklEQVQozz1R7U6DMBTlhRazxEWN8Yl8GnU652v4g334CP5wmT/kx1jkYwwGZdCW0gLDU4i7aQ6nvZx7T2+Npmnquq66aOrm/vP9ajG5WU5vl9O7jzfgaP5yOXsemI+j+WRojgfmw3A2vl68XphPxnZrO47jeb7jOodDlBYsEYwInhQUJJVFeCRRnuWVJAU9SpGpEivhlFbS8DzP6cLzPUKIFKUUolZVpSpZaEIOMc1ykDiM8vTYnlpOWRQEgnHD933n18EKgiBNU8YYpZRxniOyHFt8gW3bZllWFAUIMI5jIYSx2+1ctHV1EJIgUZYlkDOGtFIK/0EGDUpIKUFwiBPMyLBtfeeoC0JSJE5dYJC9mHVV+obYgiDLOQdq25Zl2ZtNGIb6zlJCdhZLpWCkb4hHwWEvBv8X/1jov9/vz+Lu8bQMrXSJfzEEbRfwDNS2v9fr1dfKdfW0+4HBIRDeRCmA/Zwwud4/qmC0dVP/ARdJ7Q6LWQfHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/f5e3c/1*JrvDmC-KS7iL2Aexb-lskA.webp 100w,
/static/aa7feb8568c2376bb953e0d7383bfafc/f2fbe/1*JrvDmC-KS7iL2Aexb-lskA.webp 200w,
/static/aa7feb8568c2376bb953e0d7383bfafc/e227a/1*JrvDmC-KS7iL2Aexb-lskA.webp 400w,
/static/aa7feb8568c2376bb953e0d7383bfafc/965c5/1*JrvDmC-KS7iL2Aexb-lskA.webp 600w,
/static/aa7feb8568c2376bb953e0d7383bfafc/0cbce/1*JrvDmC-KS7iL2Aexb-lskA.webp 800w,
/static/aa7feb8568c2376bb953e0d7383bfafc/92e31/1*JrvDmC-KS7iL2Aexb-lskA.webp 1904w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/c0399/1*JrvDmC-KS7iL2Aexb-lskA.png 100w,
/static/aa7feb8568c2376bb953e0d7383bfafc/9ec3c/1*JrvDmC-KS7iL2Aexb-lskA.png 200w,
/static/aa7feb8568c2376bb953e0d7383bfafc/c7805/1*JrvDmC-KS7iL2Aexb-lskA.png 400w,
/static/aa7feb8568c2376bb953e0d7383bfafc/34e8a/1*JrvDmC-KS7iL2Aexb-lskA.png 600w,
/static/aa7feb8568c2376bb953e0d7383bfafc/8ff1e/1*JrvDmC-KS7iL2Aexb-lskA.png 800w,
/static/aa7feb8568c2376bb953e0d7383bfafc/02da8/1*JrvDmC-KS7iL2Aexb-lskA.png 1904w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/c7805/1*JrvDmC-KS7iL2Aexb-lskA.png&quot;
          alt=&quot;deadlock table&quot;
          title=&quot;Will it deadlock? (click to zoom)&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Will it deadlock? (click to zoom)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;This image was taken from &lt;a href=&quot;https://medium.com/rubrikkgroup/understanding-async-avoiding-deadlocks-e41f8f2c6f5d&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;this blog post&lt;/a&gt; that tries to explain the innumerable ways of breaking concurrency in C#.&lt;/p&gt;
&lt;h2 id=&quot;in-conclusion&quot;&gt;&lt;a href=&quot;#in-conclusion&quot; aria-label=&quot;in conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In conclusion&lt;/h2&gt;
&lt;p&gt;Go is a &lt;em&gt;better&lt;/em&gt; Java / C#, while Rust is not. The clarity that Go can bring to enterprise software development is without a doubt much more valuable than removing garbage collection at the cost of worsening the overall productivity.&lt;/p&gt;
&lt;p&gt;Rust is a &lt;em&gt;better&lt;/em&gt; C++, and even if you occasionally hear that Go is a &lt;em&gt;better&lt;/em&gt; C, well, that’s just not the case. No language with a built-in garbage collector and runtime can be considered a C. And don’t be mistaken, Rust is a C++, not a C. &lt;a href=&quot;/blog/what-is-zig-comptime&quot; class=&quot;internal&quot;&gt;If you want a better C, take a look at Zig&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lastly, going back to our story, not all “Why not Rust” questions should be interpreted like in the example above. Sometimes the chilling wind is just in your head and the people asking the dreaded question just want to know your opinion. Let’s avoid tying our identity to a single language and embrace practicality first and foremost. Tribal names like Rustacean or Gopher should be avoided, as they are inherently a marketing tool for inducing stronger branding.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What is Zig's Comptime?]]></title><description><![CDATA[If you’ve only experienced compile-time execution in the form of macros, generics or codegen, be ready to be surprised by what Zig can do…]]></description><link>https://kristoff.it//blog/what-is-zig-comptime/</link><guid isPermaLink="false">https://kristoff.it//blog/what-is-zig-comptime/</guid><pubDate>Sun, 04 Aug 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you’ve only experienced compile-time execution in the form of macros, generics or codegen, be ready to be surprised by what Zig can do.&lt;/p&gt;
&lt;h2 id=&quot;what-is-zig&quot;&gt;&lt;a href=&quot;#what-is-zig&quot; aria-label=&quot;what is zig permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is Zig&lt;/h2&gt;
&lt;p&gt;Zig is a new general-purpose programming language developed by Andrew Kelley. While still under heavy development, I think the language is already showing great promise. Zig aims to be a better C, similarly to how Rust can be understood as a better C++, generally speaking. Zig has no garbage collection, no built-in event loops, nor other runtime machinery of that level. It’s lean just like C, and in fact it can interoperate with C pretty easily. For a complete overview checkout &lt;a href=&quot;https://ziglang.org&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://ziglang.org&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;Now that you got a general idea about the level of abstraction in which Zig operates, you won’t be surprised to know that there is absolutely no support for reflection at runtime; but what you can’t do a runtime, you can certainly do at compile-time.&lt;/p&gt;
&lt;h2 id=&quot;running-code-at-compile-time&quot;&gt;&lt;a href=&quot;#running-code-at-compile-time&quot; aria-label=&quot;running code at compile time permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running code at compile-time&lt;/h2&gt;
&lt;p&gt;Let’s start with the basics: using the &lt;code&gt;comptime&lt;/code&gt; keyword to run arbitrary code at compilation-time.&lt;/p&gt;
&lt;h4 id=&quot;compile-time-function-calls&quot;&gt;&lt;a href=&quot;#compile-time-function-calls&quot; aria-label=&quot;compile time function calls permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time function calls&lt;/h4&gt;
&lt;p&gt;The following code uses a function to decide the length of a statically-allocated array.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; multiply(a: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, b: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; a * b;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; len = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; multiply(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; my_static_array: [len]&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note how the function definition doesn’t have any attribute that states it must be available at compile-time. It’s just a normal function, and we request its compile-time execution at the call site.&lt;/p&gt;
&lt;h4 id=&quot;compile-time-blocks&quot;&gt;&lt;a href=&quot;#compile-time-blocks&quot; aria-label=&quot;compile time blocks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time blocks&lt;/h4&gt;
&lt;p&gt;You can also use &lt;code&gt;comptime&lt;/code&gt; to define a compile-time block inside a function. The following example is a case-insensitive string compare function that is optimized for the use-case where one of the two strings is hardcoded. Compile-time execution ensures that the function doesn’t get misused.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Compares two strings ignoring case (ascii strings only).&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Specialzied version where &amp;#96;uppr&amp;#96; is comptime known and *uppercase*.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; insensitive_eql(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; uppr: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, str: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; i = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (i &amp;lt; uppr.len) : (i += &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (uppr[i] &amp;gt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; uppr[i] &amp;lt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&amp;#96;uppr&amp;#96; must be all uppercase&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; i = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (i &amp;lt; uppr.len) : (i += &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; val = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (str[i] &amp;gt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; str[i] &amp;lt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            str[i] - &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;32&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            str[i];&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (val != uppr[i]) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; x = insensitive_eql(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;hElLo&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Compilation of this program fails and produces the following output.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;
&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;shell&quot;&gt;
&lt;code class=&quot;vscode-highlight-code vscode-highlight-line&quot;&gt;&lt;span class=&quot;bold&quot;&gt;&lt;span class=&quot;f2&quot;&gt;➜&lt;/span&gt;&lt;/span&gt; zig build-exe ieq.zig                                       
&lt;span class=&quot;bold&quot;&gt;/Users/loriscro/ieq.zig:8:17: &lt;span class=&quot;f1&quot;&gt;&lt;span class=&quot;bold&quot;&gt;error:&lt;/span&gt;&lt;/span&gt; `uppr` must be all uppercase&lt;/span&gt;
                @compileError(&amp;quot;`uppr` must be all uppercase&amp;quot;);
                &lt;span class=&quot;f2&quot;&gt;&lt;span class=&quot;bold&quot;&gt;^&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;bold&quot;&gt;/Users/loriscro/ieq.zig:24:30: &lt;span class=&quot;f6&quot;&gt;&lt;span class=&quot;bold&quot;&gt;note:&lt;/span&gt;&lt;/span&gt; called from here&lt;/span&gt;
    const x = insensitive_eql(&amp;quot;Hello&amp;quot;, &amp;quot;hElLo&amp;quot;);
                             &lt;span class=&quot;f2&quot;&gt;&lt;span class=&quot;bold&quot;&gt;^&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id=&quot;compile-time-code-elision&quot;&gt;&lt;a href=&quot;#compile-time-code-elision&quot; aria-label=&quot;compile time code elision permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time code elision&lt;/h4&gt;
&lt;p&gt;Zig can statically resolve control flow expressions that depend on compile-time known values. For example, you can force loop unrolling on &lt;code&gt;while&lt;/code&gt; / &lt;code&gt;for&lt;/code&gt; loops and elide branches from &lt;code&gt;if&lt;/code&gt; / &lt;code&gt;switch&lt;/code&gt; statements. The following program asks the user for a number and then iteratively applies a list of operations to it:&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; builtin = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;builtin&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; std = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; fmt = std.fmt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io = std.io;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Op = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    Sum,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    Mul,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    Sub,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ask_user() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; buf: [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    std.debug.warn(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;A number please: &amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; user_input = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io.readLineSlice(buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..]);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; fmt.parseInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, user_input, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; apply_ops(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; operations: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Op, num: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;inline&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (operations) |op| {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (op) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            .Sum =&amp;gt; acc +%= num,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            .Mul =&amp;gt; acc *%= num,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            .Sub =&amp;gt; acc -%= num,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; user_num = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ask_user();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ops = [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]Op{.Sum, .Mul, .Sub, .Sub};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; x = apply_ops(ops[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..], user_num);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    std.debug.warn(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Result: {}&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, x);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The interesting part of this code is the &lt;code&gt;for&lt;/code&gt; loop. The &lt;code&gt;inline&lt;/code&gt; keyword forces loop unrolling, and inside the loop’s body there is a &lt;code&gt;switch&lt;/code&gt; statement that also gets resolved at compile-time. In short, the invocation of &lt;code&gt;apply_ops&lt;/code&gt; in the previous example basically resolves to:&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc +%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc *%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc -%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc -%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To test that this is really what’s happening, paste the program code in &lt;a href=&quot;https://godbolt.org&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://godbolt.org&lt;/a&gt;, select Zig as target language, and then select a version of Zig greater than 0.4.0 (at the moment of writing you must select “zig trunk”). Godbolt will compile the code and show you the generated assembly. Right-click on a line of code, and a contextual menu will let you jump to the assembly code that the line corresponds to. You will notice that neither the &lt;code&gt;for&lt;/code&gt; loop, nor the &lt;code&gt;switch&lt;/code&gt; correspond to any assembly. Remove the &lt;code&gt;inline&lt;/code&gt; keyword, and they will now show up.&lt;/p&gt;
&lt;h2 id=&quot;generics&quot;&gt;&lt;a href=&quot;#generics&quot; aria-label=&quot;generics permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generics&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;comptime&lt;/code&gt; keyword indicates code regions and values that must be resolved at compile-time. In the previous examples we used it to perform something similar to template metaprogramming, but it can also be used for generic programming, since types are valid compile-time values.&lt;/p&gt;
&lt;h4 id=&quot;generic-functions&quot;&gt;&lt;a href=&quot;#generic-functions&quot; aria-label=&quot;generic functions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generic functions&lt;/h4&gt;
&lt;p&gt;Since generic programming is tied to &lt;code&gt;comptime&lt;/code&gt; arguments, Zig doesn’t have the &lt;em&gt;traditional&lt;/em&gt; diamond bracket syntax. Other than that, basic usage of generics is very similar to other languages. The following code is Zig’s implementation of &lt;code&gt;mem.eql&lt;/code&gt;, taken from the standard library. It’s used to test two slices for equality.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;/// Compares two slices and returns whether they are equal.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; eql(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, a: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T, b: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (a.len != b.len) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (a) |item, index| {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (b[index] != item) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, &lt;code&gt;T&lt;/code&gt; is a variable of type &lt;code&gt;type&lt;/code&gt; and the subsequent arguments use it as a generic parameter. This way it’s possible to use &lt;code&gt;mem.eql&lt;/code&gt; with any kind of slice.&lt;/p&gt;
&lt;p&gt;It’s also possible to do introspection on values of type &lt;code&gt;type&lt;/code&gt;. In a previous example we parsed an integer number from user input and requested a specific type of integer. The parsing function uses that information to elide some code from its generic implementation.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// This is the line in &amp;#96;apply_ops&amp;#96; where we parsed a number&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; fmt.parseInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, user_input, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// This is the stdlib implementation of &amp;#96;parseInt&amp;#96;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, buf: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, radix: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) !T {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (!T.is_signed) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf, radix);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (buf.len == &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;] == &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; math.negate(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..], radix));&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    } &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;] == &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..], radix);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    } &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf, radix);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;generic-structs&quot;&gt;&lt;a href=&quot;#generic-structs&quot; aria-label=&quot;generic structs permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generic structs&lt;/h4&gt;
&lt;p&gt;Before describing how to create generic structs, here’s a brief introduction on how structs work in Zig.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; std = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; math = std.math;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; assert = std.debug.assert;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// A struct definition doesn&amp;#39;t include a name.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Assigning the struct to a variable gives it a name.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Point = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    x: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    y: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    z: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;		&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// A struct definition can also contain namespaced functions.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// This has no impact on the struct layout.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// Struct functions that take a Self parameter, when&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// invoked through a struct instance, will automatically&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// fill the first argument, just like methods do.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Self = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@This&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; distance(self: Self, p: Point) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; x2 = math.pow(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, self.x - p.x, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; y2 = math.pow(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, self.y - p.y, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; z2 = math.pow(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, self.z - p.z, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; math.sqrt(x2 + y2 + z2);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; p1 = Point{ .x = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .y = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .z = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; p2 = Point{ .x = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .y = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .z = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    assert(p1.distance(p2) == &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    assert(Point.distance(p1, p2) == &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We’re now ready to talk about generic structs. To create a generic struct, all you have to do is create a function that takes a type argument and use that argument in your struct definition. Here’s an example lifted from Zig’s documentation. It’s a doubly-linked intrusive list.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; LinkedList(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            prev: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            next: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            data: T,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        first: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        last: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        len: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The function returns a &lt;code&gt;type&lt;/code&gt;, which means it can only be called at comptime. It defines two structs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The main &lt;code&gt;LinkedList&lt;/code&gt; struct&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;Node&lt;/code&gt; struct, namespaced inside the main struct&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Just like structs can namespace functions, they can also namespace variables. This is especially useful for introspection when creating composite types. Here’s how &lt;code&gt;LinkedList&lt;/code&gt; can be composed with our previous &lt;code&gt;Point&lt;/code&gt; struct.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// To try this code, paste both definitions in the same file.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; PointList = LinkedList(Point);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; p = Point{ .x = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .y = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .z = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; my_list = PointList{};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// A complete implementation would offer an &amp;#96;append&amp;#96; method.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// For now let&amp;#39;s add the new node manually.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; node = PointList.Node{ .data = p };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;my_list.first = &amp;amp;node;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;my_list.last = &amp;amp;node;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;my_list.len = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The Zig standard library contains &lt;a href=&quot;https://github.com/ziglang/zig/blob/ddf7942aaa6a41296d9338423dcdfb93b915e4df/std/linked_list.zig&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;a couple of fleshed out implementations of linked lists&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;compile-time-reflection&quot;&gt;&lt;a href=&quot;#compile-time-reflection&quot; aria-label=&quot;compile time reflection permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time reflection&lt;/h2&gt;
&lt;p&gt;Now that we have covered all the basics, we can finally move onto the things that make Zig metaprogramming truly powerful and fun to use. &lt;/p&gt;
&lt;p&gt;We already saw an example of reflection when &lt;code&gt;parseInt&lt;/code&gt; was checking &lt;code&gt;T.is_signed&lt;/code&gt;, but in this section I want to focus on a more advanced usage of reflection. I’ll introduce the concept with a code sample.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; make_couple_of(x: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x) {x, x};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This — mostly useless — function can take any value as input and creates an array that contains two copies of it. The following invocations are all correct.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]comptime_int{5, 5}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]i32{5, 5}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]type{u8, u8}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]type{type, type}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;hi&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)); &lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2][2][2]u8{[2][2]u8{&amp;quot;hi&amp;quot;,&amp;quot;hi&amp;quot;}, [2][2]u8{&amp;quot;hi&amp;quot;,&amp;quot;hi&amp;quot;}}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Arguments of type &lt;code&gt;var&lt;/code&gt; are very powerful and allow construction of optimized and yet “dynamic” functions. For the next example I’ll lift some more code from the standard library to showcase a more useful use of this functionality.&lt;/p&gt;
&lt;p&gt;The following code is the implementation of &lt;code&gt;math.sqrt&lt;/code&gt;, which we used in a previous example to compute the euclidean distance between two points.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// I moved part of the original definition to&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// a separate function for better readability.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; decide_return_type(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeId&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T) == TypeId.Int) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@IntType&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, T.bit_count / &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    } &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sqrt(x: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) decide_return_type(&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x)) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeId&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T)) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.ComptimeFloat =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T(&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@sqrt&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, x)),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.Float =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@sqrt&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T, x),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.ComptimeInt =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (x &amp;gt; maxInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u128&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                	&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;sqrt not implemented for &amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ++ &lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                	&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;comptime_int greater than 128 bits&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (x &amp;lt; &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;sqrt on negative number&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T(sqrt_int(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u128&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, x));&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        },&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.Int =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sqrt_int(T, x),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;not implemented for &amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ++ &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeName&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T)),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The return type of this function is a bit peculiar. If you look at the signature of &lt;code&gt;sqrt&lt;/code&gt;, it’s calling a function in the place where it should be declaring the return type. This is allowed in Zig. The original code actually inlines an &lt;code&gt;if&lt;/code&gt; expression, but I moved it to a separate function for better readability. &lt;/p&gt;
&lt;p&gt;So what is &lt;code&gt;sqrt&lt;/code&gt; trying to do with its return type? It’s applying a small optimization when we’re passing in an integer value. In that case the function declares its return type as an &lt;strong&gt;unsigned&lt;/strong&gt; integer with &lt;strong&gt;half the bit size&lt;/strong&gt; of the original input. This means that, if we’re passing in an &lt;code&gt;i64&lt;/code&gt; value, the function will return an &lt;code&gt;u32&lt;/code&gt; value. This makes sense given what the square root function does. The rest of the declaration then uses reflection to further specialize and report compile-time errors where appropriate.&lt;/p&gt;
&lt;h2 id=&quot;in-conclusion&quot;&gt;&lt;a href=&quot;#in-conclusion&quot; aria-label=&quot;in conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In conclusion&lt;/h2&gt;
&lt;p&gt;Compile-time execution is great, especially when the language is very expressive. Without good compile-time metaprogramming, one must resort to macros or codegen, or worse, do a lot of useless work at runtime. &lt;/p&gt;
&lt;p&gt;If you want to see one more cool example of what can be done at compile-time in Zig, &lt;a href=&quot;https://andrewkelley.me/post/string-matching-comptime-perfect-hashing-zig.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;take a look at this blog post by Andrew himself&lt;/a&gt;. In it, he uses some the aforementioned techniques to generate a perfect hashing function for a compile-time known list of strings. The result is that the user can create a switch that matches strings in &lt;code&gt;O(1)&lt;/code&gt;. The code is very easy to understand, and he offers some insight on how all the other minor features make user abstractions easy, fun and safe to use.&lt;/p&gt;
&lt;style class=&quot;vscode-highlight-styles&quot;&gt;:root {
  --vscode-highlight-padding-v: 1rem;
  --vscode-highlight-padding-h: 1.5rem;
  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);
  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);
  --vscode-highlight-border-radius: 8px;

  --vscode-highlight-line-highlighted-background-color: transparent;
  --vscode-highlight-line-highlighted-border-width: 4px;
  --vscode-highlight-line-highlighted-border-color: transparent;
}

.vscode-highlight {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-top: 1rem;
  padding-top: var(--vscode-highlight-padding-top);
  padding-bottom: 1rem;
  padding-bottom: var(--vscode-highlight-padding-bottom);
  border-radius: 8px;
  border-radius: var(--vscode-highlight-border-radius);
  font-feature-settings: normal;
}

.vscode-highlight-code {
  display: inline-block;
  min-width: 100%;
}

.vscode-highlight-line {
  display: inline-block;
  box-sizing: border-box;
  width: 100%;
  padding-left: 1.5rem;
  padding-left: var(--vscode-highlight-padding-left);
  padding-right: 1.5rem;
  padding-right: var(--vscode-highlight-padding-right);
}

.vscode-highlight-line-highlighted {
  background-color: var(--vscode-highlight-line-highlighted-background-color);
  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);
}
.dark-default-dark {
background-color: #1E1E1E;
color: #D4D4D4;
}

.dark-default-dark .mtk1 { color: #D4D4D4; }
.dark-default-dark .mtk2 { color: #1E1E1E; }
.dark-default-dark .mtk3 { color: #6A9955; }
.dark-default-dark .mtk4 { color: #569CD6; }
.dark-default-dark .mtk5 { color: #D16969; }
.dark-default-dark .mtk6 { color: #D7BA7D; }
.dark-default-dark .mtk7 { color: #B5CEA8; }
.dark-default-dark .mtk8 { color: #CE9178; }
.dark-default-dark .mtk9 { color: #646695; }
.dark-default-dark .mtk10 { color: #4EC9B0; }
.dark-default-dark .mtk11 { color: #DCDCAA; }
.dark-default-dark .mtk12 { color: #9CDCFE; }
.dark-default-dark .mtk13 { color: #000080; }
.dark-default-dark .mtk14 { color: #F44747; }
.dark-default-dark .mtk15 { color: #C586C0; }
.dark-default-dark .mtk16 { color: #6796E6; }
.dark-default-dark .mtk17 { color: #808080; }
.dark-default-dark .mtki { font-style: italic; }
.dark-default-dark .mtkb { font-weight: bold; }
.dark-default-dark .mtku { text-decoration: underline; text-underline-position: under; }&lt;/style&gt;</content:encoded></item><item><title><![CDATA[I Want Simple, Not Just Easy]]></title><description><![CDATA[Simple → Complex is the dimension that describes how irregular and interconnected a system is. Simple systems can be broken down into…]]></description><link>https://kristoff.it//blog/simple-not-just-easy/</link><guid isPermaLink="false">https://kristoff.it//blog/simple-not-just-easy/</guid><pubDate>Sat, 20 Jul 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span style=&quot;text-align:left; display:inline-block;&quot;&gt;&lt;b&gt;Simple → Complex&lt;/b&gt;&lt;/span&gt; is the dimension that describes how irregular and interconnected a system is. Simple systems can be broken down into smaller pieces that are understandable in isolation. If you make changes to one of those pieces, you don’t have to fear unexpected ramifications in parts not directly connected to what you’re operating on. Complex systems are the exact opposite: you’ll need to keep in mind a lot of things and tread carefully.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-align:left; display:inline-block;&quot;&gt;&lt;b&gt;Easy → Hard&lt;/b&gt;&lt;/span&gt; is the dimension of how much energy and time it takes to successfully execute something. Easy things generally require less preparation and can be done reliably even by inexperienced individuals. By definition, hard stuff requires more effort and not everybody gets it right all the time.&lt;/p&gt;
&lt;p&gt;It goes without saying that complex things tend to be hard, while simple things tend to be easy, but that’s not always the case. Software engineering can shift this balance almost alchemically, although not always for the best.&lt;/p&gt;
&lt;h2 id=&quot;building-abstractions&quot;&gt;&lt;a href=&quot;#building-abstractions&quot; aria-label=&quot;building abstractions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building abstractions&lt;/h2&gt;
&lt;p&gt;Every time you build an abstraction, you encapsulate a given amount of complexity, making it easier to use. When you print to a terminal, you’re probably doing it in a single line of code: that’s an abstraction over a whole lot of subsystems that you might not even know about. It’s easier to print that way, but the complexity is still there, hidden behind a single function call.&lt;/p&gt;
&lt;h4 id=&quot;so-whats-the-point-of-abstracting&quot;&gt;&lt;a href=&quot;#so-whats-the-point-of-abstracting&quot; aria-label=&quot;so whats the point of abstracting permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;So what’s the point of abstracting?&lt;/h4&gt;
&lt;p&gt;While in the previous example abstracting did not decrease complexity, it did draw a box around a subsystem. If you remember, simple systems are made up of smaller boxes, so &lt;strong&gt;abstraction is a step towards composing bigger systems without increasing complexity too much&lt;/strong&gt;. It’s also good that it made things easier: if it took 100 lines of code to print something to a terminal, we would be years behind compared to where we are today, just because of all the economic implications.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This is why we don’t write everything in assembly&lt;/strong&gt;. It’s easier (more economical) to write in higher-level languages, and function calls, for loops and other flow control structures proved to be good abstractions over machine-level operations. Keep in mind: none of these things &lt;em&gt;further&lt;/em&gt; simplifies assembly code, but they do actively &lt;em&gt;prevent&lt;/em&gt; it from exploding in terms of complexity, as it would &lt;em&gt;easily&lt;/em&gt; do without small boxes such as functions, etc.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91fec12ab8620aee3b60e6756bda6994/26532/webassembly.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 130.8300395256917%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsSAAALEgHS3X78AAAE0klEQVRIx6VVa0xURxTmV5Oavm1LKaatWisVoVoJWKWBAJYEKQRKlUpFsLx8ADUhQUwtUGyIGhNqbAPEGOM/AqyPBWoqRjBAw0OgJbzkJcTq3jt3d8GFXZZl9+uZ2Yfrav3TSU7mcc98853vnDvjpZ2bw6ORUehUV6FTN0GvboT2qhoPa+shq65AU6eCfPkqGJmm/jLNL+N+TS3Nr5FvE3QNZOQ3+9ffWFhagpfRaIRns5A90GoxNjODvqEhDE1OYphs4O5dDE9NYUaSsIhnN6+F+XkxsD3j48PZWfyj0+HBrB73dVpIhkdgDn/PPXxss9qIIdFcHp+EkUIzcaPQTRSWkUK0UOjL1xpgcRrNl6g3Ueim+ivke0X4G2vqYB4csjPkARsrzkF6zQcs+kuwDZ9C3hoO5YOPwbZHQFr/CeT310Py2wxp82dizPw2ga3dCLaafDZugfSKNww/lLgB/loFtmodlH2ZYLv2QtqTDm34F1D2pEFOzQCL/QpScirkb/dDeyAfcuZByNw3LQvKdwcg00GG4jI3wHOVkH0/hLIzEUpkjL0nJxa0HcqmrWCBwWBbaLw9EuzrFChRO8HWBYDxKNb6Q375bRjKyj0YvvcRnXYQjFix9Gxo43aBJaWA5eRCzs6FhtbY/hywb/ZBOfQ9HRYKxWc1lDUbwF56C4afT7oB/vIbJK8Xwegk9jppuXIV2Jtkb/g6+nft/Upf8U32WQOZ+736jliXvV6A4XjpY0DT739Al7wXc1mHoEvPgj4t02FZ0FGvc/R8riVNuel5FHwt4wC0JMM8ZdpehwsLrmI2LJnt9URmdZjNzSwexQ+P7zYb1eG8o1CZLOPPjg67M9Xm44q1wbq87FqbvncPP5WW4sfjx9HR1m53sVqF3xMMOXBra6sLx2w2Q9JosExgzqYoClJSUvB5aChyDx9GWVkZlsgPDnYC0MmQOzc3N4txbW0tzpw5g/HxcXR1deH69es4ffo0YmJiEBgYiNjYWAF88eJF4c8PfQqwr68PPT09uHnzJgICAnDjxg10d3djYGAA/f392LZtm7AdO3YgOjpaHDBFF4V7e0JDzvDChQvYvXu3YFBTUwN/f3+EhISgqqpKMIqKikJeXh6Sk5OFPJN0A7W1tYExhjm6Bp/Q0NmOHTsmQC9dugQ/Pz94e3tjxYoVog8PD0dGRgZSU1MFw5GRETQ0NKC9vR3Oa9AFaHaIe/78eRw9elToGRYWhqCgIMEqODgY8fHxAiwxMREVFRW4desWOjs7RXSukN0ZaiirR44cQV1dnfiYlJSEkyftvxRPUnZ2NkpKSpCQkIAOKrHR0VFhzkqwUvkIQC3dzoODgzh79iyKi4tRX1+PyspKREZGIicnB2q1WugYFxcnNCsvL0d1dbVgyLVsaWmBSqUSYXtxuk1NTTh16hQKCwsFk6KiIqEVZxIRESHC5uDcuMacaX5+PgoKCsSeEydOoLGxEYuLi08nhWvJM8/X+WEz9K4MDw+jt7cXt2/fxp07d0QyuDyz9ERYLBaPN8UD8P80kRQeN6fKJAa9Xi9ONZlMLpHdjYvvTICOHq+xsTFMT09jYmJC1KJgKMBo0tPVjS4qAZ41J2vn7+TOwNlzKYboieWgvOfAzw2Zb3qe/deefwGF8JgeliKzEAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/91fec12ab8620aee3b60e6756bda6994/f5e3c/webassembly.webp 100w,
/static/91fec12ab8620aee3b60e6756bda6994/f2fbe/webassembly.webp 200w,
/static/91fec12ab8620aee3b60e6756bda6994/e227a/webassembly.webp 400w,
/static/91fec12ab8620aee3b60e6756bda6994/96d1c/webassembly.webp 506w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/91fec12ab8620aee3b60e6756bda6994/c0399/webassembly.png 100w,
/static/91fec12ab8620aee3b60e6756bda6994/9ec3c/webassembly.png 200w,
/static/91fec12ab8620aee3b60e6756bda6994/c7805/webassembly.png 400w,
/static/91fec12ab8620aee3b60e6756bda6994/26532/webassembly.png 506w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/91fec12ab8620aee3b60e6756bda6994/c7805/webassembly.png&quot;
          alt=&quot;O&amp;#39;REILLY Web Development With Assembly - You might as well just kill yourself right now&quot;
          title=&quot;This joke lost some of its punch in the wake of WebAssembly&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;This joke lost some of its punch in the wake of WebAssembly&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;not-all-abstraction-manages-complexity&quot;&gt;&lt;a href=&quot;#not-all-abstraction-manages-complexity&quot; aria-label=&quot;not all abstraction manages complexity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Not all abstraction manages complexity&lt;/h4&gt;
&lt;p&gt;Abstraction is sometimes introduced just to make things easier. An example would be when you’re introducing a new interface with the sole goal of making it easier to swap in and out a replacement for a component. It will take you less effort to make that specific change (fewer references to update), but the box that you just drew is a second layer around a pre-existing block (the concrete class). Think for example about  &lt;strong&gt;Database&lt;/strong&gt; &lt;sup&gt;(class)&lt;/sup&gt; and &lt;strong&gt;IDatabase&lt;/strong&gt; &lt;sup&gt;(interface)&lt;/sup&gt;. That interface is only useful for swapping in a new database. If it were a way of abstracting what the class does, it would have had a different name to begin with. &lt;/p&gt;
&lt;h4 id=&quot;easy-is-better-than-hard&quot;&gt;&lt;a href=&quot;#easy-is-better-than-hard&quot; aria-label=&quot;easy is better than hard permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Easy is better than hard&lt;/h4&gt;
&lt;p&gt;All else being equal, there is no reason to prefer hard over easy. Stealing a quote from Economics, we have an infinite amount of things we could learn or build, and an ever limited amount of time and energy to do it. The cheaper we can do it for, the more we can have, and the benefits compound over time. It’s a bit of a trivial statement, but I want to make it clear before diving into the real issue.&lt;/p&gt;
&lt;h4 id=&quot;the-rules-of-abstraction&quot;&gt;&lt;a href=&quot;#the-rules-of-abstraction&quot; aria-label=&quot;the rules of abstraction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The rules of abstraction&lt;/h4&gt;
&lt;p&gt;As I mentioned before, introducing abstraction has two main effects:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Lowers difficulty by hiding some of the details. Fewer lines to write, fewer things to keep in mind and think about — or even to right out know.&lt;/li&gt;
&lt;li&gt;Identifies a cohesive subsystem and draws a box around it. The box becomes then a tool that can be reused to build bigger systems, while keeping complexity down.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The second point, complexity management, is not trivial. It’s easier to lower difficulty rather than constrain complexity, and that’s often what happens when development is blind to this concept: &lt;strong&gt;easy software that encapsulates more complexity than it should&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&quot;easy-complexity&quot;&gt;&lt;a href=&quot;#easy-complexity&quot; aria-label=&quot;easy complexity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Easy complexity&lt;/h2&gt;
&lt;p&gt;Easy complexity shows up in many places, causing all kinds of problems. We even have a friendly name for some incarnations of easy complexity: bloat. Saying that something is bloated is sometimes taken as a generic complaint against a misunderstood technology, and certainly the term gets abused, but it’s nevertheless a legitimate way of describing something that fails to manage complexity in a misguided effort to make things easy.&lt;/p&gt;
&lt;h4 id=&quot;using-bloated-tools&quot;&gt;&lt;a href=&quot;#using-bloated-tools&quot; aria-label=&quot;using bloated tools permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using bloated tools&lt;/h4&gt;
&lt;p&gt;The universal property of bloated tools is being resource-hungry and needlessly slow. In the beginning, this seems almost innocuous, but as time goes on you will find that a significant percentage of human and system time gets wasted on waiting for them to perform even trivial operations. When something breaks or behaves strangely, there is no way of knowing what exactly went wrong and why. Developers that over-rely on this type of tool get progressively caught in a form of lock-in where the tool removes them from the details of what they are doing &lt;em&gt;(“the tool does it for me”)&lt;/em&gt;, making them more productive, but at an unfair price. The lock-in is not just in terms of technology: when you only &lt;em&gt;approximately&lt;/em&gt; know one way of doing things, you will also be limited in the range of things you can do, because every small deviation from the tool-sanctioned way will become a serious obstacle. &lt;/p&gt;
&lt;p&gt;The self-preserving structure of these problems is nothing short of amazing. Maybe in the beginning the developer tried to investigate root causes and different ways of doing things, but failure after failure, it’s reasonable of them — although ultimately wrong — to conclude that this approach is just a waste of time. At that point some decide that the right solution is to double down on learning how to cope with the tool’s quirks and intricacies, which will result in even more wasted time once a new shiny tool comes along.&lt;/p&gt;
&lt;p&gt;Of all the forces at play in software engineering, this is one of the strongest forms of natural selection: choosing slow and unreliable tools will make you a slow, unreliable developer with a limited and quickly depreciating skill set. It’s harsh, I know, but true. Choosing better tools won’t make you necessarily a good developer, but when you can understand what you’re doing, troubleshoot problems, and in general be able to iterate quickly, then you will have a real opportunity for improvement.&lt;/p&gt;
&lt;h4 id=&quot;not-all-bloat-is-evil&quot;&gt;&lt;a href=&quot;#not-all-bloat-is-evil&quot; aria-label=&quot;not all bloat is evil permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Not all bloat is evil&lt;/h4&gt;
&lt;p&gt;I’m purposely avoiding naming names, but I’d like to give a positive shoutout to JavaScript. We all equate JS with bloat, but in my opinion what happens there is mostly the natural result of a healthy ecosystem where many different (although sometimes half-baked) abstractions compete against each other. This still has the negative effect of making it harder to make sense of things, and causes some developers to experience burnout, but the number of broken developers (as per description above) that the JS ecosystem creates is not proportional to our perception of its bloat-ness. &lt;strong&gt;I think the biggest number of that type of developers comes from different ecosystems where bloat is the result of &lt;em&gt;hostile design&lt;/em&gt;&lt;/strong&gt;, but that’s a story for another blog post.&lt;/p&gt;
&lt;h2 id=&quot;in-conclusion&quot;&gt;&lt;a href=&quot;#in-conclusion&quot; aria-label=&quot;in conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In Conclusion&lt;/h2&gt;
&lt;p&gt;Using bloated toolchains will have negative effects on both your productivity and personal growth. Slowness alone is a problem, but when combined with unreliability, it becomes devastating. Think about this the next time you see somebody open their IDE, wait for it to load, make a change, and then have to wait before the red underline caused by their changes disappears, plus the occasional crash. A reliable environment is a fundamental prerequisite for building competence.   The second most important prerequisite is a feedback loop that allows you to quickly gauge the result of your actions. The tighter the feedback loop, the better. When it takes minutes to build a project and run a fistful of tests, the loop is definitely not as tight as it should be.&lt;/p&gt;
&lt;p&gt;Using bloated frameworks will prevent you from understanding the details of what you’re doing and cause your software to inherit bad traits such as slowness and unreliability, further spreading the effects of easy complexity. New approaches will inevitably come, and if you never built an appreciation for the different trade-offs, all change will seem useless and arbitrary. &lt;/p&gt;
&lt;h4 id=&quot;the-economy-of-complexity&quot;&gt;&lt;a href=&quot;#the-economy-of-complexity&quot; aria-label=&quot;the economy of complexity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The economy of complexity&lt;/h4&gt;
&lt;p&gt;If you search “word vs latex” in google images, you will find a few pictures similar to the following:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/02744/miktex.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQoz4WS6ZKCQAyE5/3fzqI8UFkovBU55JKVYz8mK84qVds/poaQTjqdUU3TtG37eDy+DVRVVdf15XL50thut8fj8Xq9EjTTlO/7aZqGYZhlWapxe4J7EASn04lLkiQSEZAcx7Gaz+d85HnedR0Sur+gPNK6MSBWLZdL2hZFIaGyLJEnnRGP8k+y9OjJ6/WavIF8Pp8nkwlDoohpkT3KBPRQm83GdV34n7Lp/DaOXO73u3ikKIByph/+tRpcYKLNLIfbiYYsqJd9OBwo89aZPDPIySc02r4MQzM7NGXLSSrmccEw1oE0duY4Ds1msxkR0pTneVjKh9mZqpCZOdbAzmHaSuNXtriFHlbKP06yqSiWkPG5/JdsdkNhVsIpT4qT2uZuRvk9eTqd0gFjmY3Ow8L/RU+2LAsmr0LeGfxSo3iCO1rkYoKgogA90QmNaUVFpoG9bHG/32Mvb4kc2dZQSw3zYNViscA/XqVt2wy/2+14P8zFhrAQd1arFUH+RlEE5Qcu8pfw4NOMVQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/f5e3c/miktex.webp 100w,
/static/0ef50e25277adaa3310549fc6eb846b7/f2fbe/miktex.webp 200w,
/static/0ef50e25277adaa3310549fc6eb846b7/e227a/miktex.webp 400w,
/static/0ef50e25277adaa3310549fc6eb846b7/d4499/miktex.webp 560w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/c0399/miktex.png 100w,
/static/0ef50e25277adaa3310549fc6eb846b7/9ec3c/miktex.png 200w,
/static/0ef50e25277adaa3310549fc6eb846b7/c7805/miktex.png 400w,
/static/0ef50e25277adaa3310549fc6eb846b7/02744/miktex.png 560w&quot;
          sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
          type=&quot;image/png&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          src=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/c7805/miktex.png&quot;
          alt=&quot;Comparing Word and Latex. Image by Marko Pinteric.&quot;
          title=&quot;Comparing Word and Latex. Image by Marko Pinteric.&quot;
        /&gt;
      &lt;/picture&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This picture is trying to convey that, while Microsoft Word is easier to use than LaTeX, as document size increases, you will quickly get to a point where it actually becomes easier to use LaTeX, despite the inverse being true initially. Complexity makes things hard and Word fails at containing it, causing difficulty to skyrocket. This is why you can’t ignore complexity. &lt;strong&gt;It doesn’t matter how easy you try to make things: complexity is an almost &lt;em&gt;radioactive&lt;/em&gt; source of difficulty&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;In terms of value over time, if your daily job involves working on big and complex documents, learning LaTeX is going to pay off immensely compared to sticking with Word. More importantly, learning the idea of giving semantic structure to documents is going to pay off more than learning that one arcane procedure required to drag &amp;#x26; drop pictures without messing up the layout in Word. Once you begin appreciating the relationship between structure and semantic meaning, you won’t feel bad when something new comes along and starts replacing LaTeX, because the fundamental principles will transfer to the new tool, while the image placement incantation for Word is probably going to stop working in the subsequent release, leaving  you with nothing.&lt;/p&gt;
&lt;p&gt;I leave it to you to decide if and how that picture translates into toolchains, frameworks, and even the software you write yourself, but there is an old saying that I think is still as valid as ever. I don’t remember the precise quote, but it’s something along the lines of:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;The value of a maker is reflected in the quality of their tools.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;small&gt;&lt;em&gt;Thanks for reading my first blog post!&lt;br&gt;
My next post will probably be about a new programming language called Zig and some considerations that popped into my mind when using it, but I’m not done complaining about complexity yet. Not all easy complexity is bloat, some takes a different form that definitely deserves a dedicated post, and I didn’t touch on the subject of what it takes to actively simplify a system. And there’s also the hostile design thing…&lt;/em&gt; &lt;/small&gt;&lt;/p&gt;</content:encoded></item></channel></rss>