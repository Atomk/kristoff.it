<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Loris Cro's Personal Blog]]></title><description><![CDATA[A blog about computer science and design.]]></description><link>https://kristoff.it/</link><generator>RSS for Node</generator><lastBuildDate>Mon, 27 Jan 2020 10:45:35 GMT</lastBuildDate><item><title><![CDATA[The Good, the Bad and the Ugly Standup]]></title><description><![CDATA[It’s not always easy to understand what makes meetings successful and since Zen stories aren’t the learning tool of choice in the business…]]></description><link>https://kristoff.it//blog/good-bad-ugly-standup/</link><guid isPermaLink="false">https://kristoff.it//blog/good-bad-ugly-standup/</guid><pubDate>Sat, 25 Jan 2020 23:00:00 GMT</pubDate><content:encoded>&lt;p&gt;It’s not always easy to understand what makes meetings successful and since Zen stories aren’t the learning tool of choice in the business world, we have certified practitioners teach people what they call “ceremonies”: rituals that you’re supposed to imitate with the expectation that, hopefully, illumination will eventually dawn on you.&lt;/p&gt;
&lt;p&gt;I don’t claim to know everything about agile and I won’t even try to recap any part of its history, or what the agile manifesto meant to say (or not say), but I’ve had a few different types of standup meetings in my professional life. Reading of my experiences will maybe entertain you and, hopefully, even help you eventually have better meetings.&lt;/p&gt;
&lt;p&gt;In the beginning, I worked in academia mostly by doing data science for research groups. At that time I’d only heard stories of the rough life in the West (i.e., the industry). I had no standup meetings, no sprints, and more importantly, no customers. &lt;/p&gt;
&lt;p&gt;Then I joined a software consultancy firm.&lt;/p&gt;
&lt;h2 id=&quot;the-bad&quot;&gt;&lt;a href=&quot;#the-bad&quot; aria-label=&quot;the bad permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Bad&lt;/h2&gt;
&lt;p&gt;In my first standup we were about 20 people in total. We would gather in a conference room and wait for the engineering manager to start the meeting. Once we started, one after another we would say what we did the day before, what we planned to do on the present day, and if we had encountered any blocker. I’m sure you know this prayer already.&lt;/p&gt;
&lt;p&gt;As I mentioned, this was a consultancy firm, so the people in the standup meeting were all working on different projects, which made the standup mostly useless. I would talk about my project, boring those who didn’t know the context, and they would return the favor afterwards. The only one who was never bored was the engineering manager.&lt;/p&gt;
&lt;p&gt;We all knew that this meeting was a way for him to know who was busy on a project and who was free (or about to be). People would bounce from project to project sometimes doing billable work, sometimes not, and this meeting allowed the engineering manager to have a daily overview of what everybody was doing.&lt;/p&gt;
&lt;p&gt;The worst was when the engineering manager was on leave. We would still hold the same meeting with the same format, all 20 developers, but for the benefit of no one. That infuriated me.&lt;/p&gt;
&lt;p&gt;The meeting was short, we did it while literally standing up, the three ceremonial questions were answered, and yet it was a complete waste of time for all but one person in the room. This was an unequivocally bad standup.&lt;/p&gt;
&lt;h2 id=&quot;the-ugly&quot;&gt;&lt;a href=&quot;#the-ugly&quot; aria-label=&quot;the ugly permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Ugly&lt;/h2&gt;
&lt;p&gt;Fast-forward a couple of months and a new big project starts, causing the original standup to be broken into two: one for the big project, and one for everyone else. I was assigned to the big project, so I was also moved to the new meeting.&lt;/p&gt;
&lt;p&gt;This new standup introduced two big changes: &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;everyone was working on the same project,&lt;/li&gt;
&lt;li&gt;in place of the engineering manager we now had a project manager and the enterprise architect in charge of the project.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The PM would lead the meeting and, like before, everyone would answer the three questions — except now there would often be a bit of back and forth with the architect about details, clarifications about user stories, or some other exchange of information. That felt like a big improvement.&lt;/p&gt;
&lt;p&gt;The flipside was that the chatting would regularly force the PM to remind everyone about the purpose of the “daily scrum” (aka the standup) and that long discussions should be moved to a separate meeting. &lt;/p&gt;
&lt;p&gt;For as long as the standup kept this format we were never able to find a balance, which felt weird because the standup had finally started to be useful, but there was a clear conflict between the stated purpose of the meeting and the type of information exchanged.&lt;/p&gt;
&lt;p&gt;This standup too had the “on leave” problem. Without the PM we would often go down rabbit holes, and without the architect we would be missing all the good interactions.&lt;/p&gt;
&lt;p&gt;There wasn’t anything glaringly terrible with this meeting, but it wasn’t that good either: it was an ugly standup.&lt;/p&gt;
&lt;h2 id=&quot;the-good&quot;&gt;&lt;a href=&quot;#the-good&quot; aria-label=&quot;the good permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Good&lt;/h2&gt;
&lt;p&gt;Let’s skip forward a few months more and now the project is getting even bigger. From one team we went to two, then three, and now were about to add a fourth team.&lt;/p&gt;
&lt;p&gt;The latest change in scope forced both architect and PM to leave my team’s standup and so now we were left to our own devices. I should also add that originally our standup included people from quality assurance, but now QA had become a project-wide cross-team group and had their own meeting.&lt;/p&gt;
&lt;p&gt;Now my standup meeting included only 4 developers not only working on the same project, but also on the same repository, and there were was no management in it.&lt;/p&gt;
&lt;p&gt;The meeting now wasn’t anymore about proving that we actually did something the day before, planned to do something on the present day, and assuring everybody that no time was being wasted. Since there were no more managers, the tone had changed drastically.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Now we would use the meeting entirely to make tactical decisions about which task to tackle next&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Was the frontend developer waiting for me to formalize the HTTP API? We would agree to discuss it immediately after the meeting, and maybe I could delay implementing the logic behind the interface depending on my needs.&lt;/p&gt;
&lt;p&gt;If two tasks looked like they would require similar implementations we would agree to do pair programming or investigate the similarity somehow. This way we would avoid reinventing the wheel (at least within the team).&lt;/p&gt;
&lt;p&gt;This way of communicating made us tackle complex tasks first, coordinate whenever it seemed a good idea, and it also let us really acknowledge “blockers” not out of loyalty towards the company (hah!), but out of respect for each other. &lt;strong&gt;In other words, we made a point of making this standup a tool for making our own lives easier.&lt;/strong&gt; Now this meeting made sense always, no matter who was missing.&lt;/p&gt;
&lt;p&gt;I experienced this standup format both in-person (in Italy) and remotely (from Singapore), and it was always good.&lt;/p&gt;
&lt;h2 id=&quot;once-upon-a-time-in-software-development&quot;&gt;&lt;a href=&quot;#once-upon-a-time-in-software-development&quot; aria-label=&quot;once upon a time in software development permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Once upon a time in software development&lt;/h2&gt;
&lt;p&gt;It’s interesting to me how all these changes happened within the same company department over a relatively short timespan. By reading this article you would think that everything got progressively better, but the reality was much messier than what the previous chapters would suggest. &lt;/p&gt;
&lt;p&gt;The enterprise architect doubled as many other roles and the reason why him and the PM stopped running standup meetings was because, as the project moved forward, new fires would pop up every day in other parts of the development process and so they had to divert their attention away from my team, which was doing relatively fine.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This means that what allowed us to stumble upon the Good standup was a long series of other problems&lt;/strong&gt;, and in fact we might not even have understood the point of standup meetings without having first gone through the previous stages. Being battle-hardened is what made us truly appreciate the importance of taking care of each other.&lt;/p&gt;
&lt;p&gt;Going back to my original point, it’s clear how even though all companies say they “do agile”, in fact most don’t; they just do random meetings while standing up, which produces bad results that I consider right-out offensive towards developers.&lt;/p&gt;
&lt;p&gt;Following religiously a methodology is not going to produce good results either. The details that make up a good meeting are subtle and the pursuit of an &lt;a href=&quot;https://www.youtube.com/watch?v=GzQjGhD5tSU&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;artificial standard of aesthetics&lt;/a&gt; &lt;sup&gt;[1]&lt;/sup&gt; will prevent you from doing the necessary experimentation to improve from an ugly equilibrium.&lt;/p&gt;
&lt;p&gt;The standup that worked for my team might differ in some details from the one that works best for yours. What matters is that you &lt;strong&gt;refuse to accept solutions that come at your expense without giving anything back&lt;/strong&gt;, but that you also maintain the mindfulness necessary to know that some details might be wrong even when everyone has the best of intentions and all the checkboxes are ticked.&lt;/p&gt;
&lt;p&gt;To put this in a more Zen way,&lt;br&gt;
&lt;em&gt;the imitation of a frog is a frog, but a frog doesn’t try to be a frog.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;small&gt;&lt;i&gt;&lt;sup&gt;[1]&lt;/sup&gt; The linked video is quite literally business-porn. Managers who strive to imitate it are even more embarrassing than teenagers that try to imitate what they saw on regular-porn websites.&lt;/i&gt;&lt;/small&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Why Go and not Rust?]]></title><description><![CDATA[Imagine you’re a developer who mainly works with Go. You go to an event and, while chatting with some people, you decide to share with them…]]></description><link>https://kristoff.it//blog/why-go-and-not-rust/</link><guid isPermaLink="false">https://kristoff.it//blog/why-go-and-not-rust/</guid><pubDate>Mon, 09 Sep 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Imagine you’re a developer who mainly works with Go. You go to an event and, while chatting with some people, you decide to share with them the news that you wrote a small tool that does &lt;em&gt;something&lt;/em&gt;. You claim that since you wrote it in Go, it’s fairly fast, it’s a single binary, etc. The group seems pleased with your recount and you start feeling good, but then you notice a stranger approaching from behind. A bone-chilling wind blows and you hear: “Why Go and not Rust?”&lt;/p&gt;
&lt;p&gt;You start feeling less good. Well, you could answer that Go is what you know, so that’s what you used to solve your problem, but that’s probably not going to be a satisfactory answer. You were pridefully talking about how fast your tool was in the first place, and it’s obvious that the stranger is going to counter your simplistic excuse with all the great benefits that Rust brings over Go.&lt;/p&gt;
&lt;p&gt;You start feeling bad. Why did you choose to learn Go in the first place? You were told that Go is fast and that it has great concurrency primitives, and now Rust comes along and everybody is saying that Rust is better in every aspect. Were they lying before or are they lying now? While there is no single language to rule them all, you know that it’s still possible to make bad choices and end up in a technological cul de sac. After all, you did choose Go over &lt;em&gt;that&lt;/em&gt; other language a few years ago and you were pretty pleased with the routine of joining circles to ask “Why &lt;em&gt;that&lt;/em&gt; and not Go?”&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;While the story above is 100% the result of my imagination, it’s no secret that the Rust fandom has a few &lt;em&gt;overexcited&lt;/em&gt; members who feel compelled to enlighten every lost soul about the virtues of the Crab-God. This isn’t really Rust’s fault, every successful project will have misbehaving followers, it’s inevitable. While everyone has to deal with these people, I feel that Go developers are particularly susceptible to their behavior because of how much Rust’s and Go’s &lt;a href=&quot;https://courses.lumenlearning.com/ivytech-mktg101-master/chapter/reading-defining-the-message/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;messaging&lt;/a&gt; overlap.&lt;/p&gt;
&lt;p&gt;Go is fast, but Rust is faster.  &lt;/p&gt;
&lt;p&gt;Go has an efficient garbage collector, but Rust has static memory management.  &lt;/p&gt;
&lt;p&gt;Go has great concurrency support, but Rust has provably-correct concurrency.&lt;/p&gt;
&lt;p&gt;Go has interfaces, but Rust has traits and other zero-cost abstractions.&lt;/p&gt;
&lt;p&gt;If you’re a Go developer you might feel a bit cheated. In contrast, Python developers are not particularly fazed by Rust. They know that Python is in many ways slow and inefficient, and they’re fine with that because they know Python’s role: make the code easy to write and offload to C when performance matters.&lt;/p&gt;
&lt;p&gt;What about Go? &lt;/p&gt;
&lt;h2 id=&quot;go-is-very-good-for-writing-services&quot;&gt;&lt;a href=&quot;#go-is-very-good-for-writing-services&quot; aria-label=&quot;go is very good for writing services permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is very good for writing services&lt;/h2&gt;
&lt;p&gt;Go was created at Google to solve Google problems, which mostly involves dealing with networked services. Go’s concurrency model is a good fit for server-side applications that must primarily handle multiple independent requests, rather than participate in complex result-passing schemes. This is one reason why you’re given &lt;code&gt;go&lt;/code&gt; and not &lt;code&gt;await&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Go has great support for HTTP and related protocols and it doesn’t take long to write a satisfactory web service. In my personal projects, Go proved to be a good alternative to Node.js, especially in situations where I wanted to pin down the interfaces between different components more explicitly than you would do while writing idiomatic JavaScript.&lt;/p&gt;
&lt;p&gt;On top of that, it has great tooling to diagnose concurrency and performance problems, and cross-compilation makes deploying on whichever platform a breeze.&lt;/p&gt;
&lt;h2 id=&quot;go-is-unapologetically-simple&quot;&gt;&lt;a href=&quot;#go-is-unapologetically-simple&quot; aria-label=&quot;go is unapologetically simple permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is unapologetically simple&lt;/h2&gt;
&lt;p&gt;Go takes great pride in offering a limited set of features built-in the language. This makes Go easy to learn and, even more importantly, it ensures that Go projects remain understandable even when growing in size.  The creators of Go like to call it a “boring” language. While we could debate whether the language could use one or two extra things, the idea of forcing people to “do more with less” has proven to be very successful.&lt;/p&gt;
&lt;p&gt;Rust can indeed be as good as Go at doing web services, or even better, but it really cannot beat Go in terms of simplicity. And it’s not just simplicity, Go is also strict about things that other languages are usually more lax about. Go doesn’t want unused variables or imports, files belonging to different packages in the same directory, etc. It even used to complain about projects saved outside of &lt;code&gt;GOPATH&lt;/code&gt; (thankfully that’s not the case anymore). &lt;/p&gt;
&lt;p&gt;Go also doesn’t want any “fingerprints” in the code, so it enforces a single, universal style via &lt;code&gt;go fmt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In truth, none of these things alone is particularly  impressive, but they do describe the mindset that Go wants to impose. Many don’t like it but, in my opinion, it’s a killer feature for some types of development, like enterprise software.&lt;/p&gt;
&lt;h2 id=&quot;go-is-great-for-enterprise-software&quot;&gt;&lt;a href=&quot;#go-is-great-for-enterprise-software&quot; aria-label=&quot;go is great for enterprise software permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is great for enterprise software&lt;/h2&gt;
&lt;p&gt;As I already mentioned, Go was created to solve Google problems, and Google problems are definitely enterprise-scale problems. Whether this was the direct aim of the creators or just the natural result of using it at a Big Corp, Go is indubitably an amazing breath of fresh air in enterprise software development.&lt;/p&gt;
&lt;p&gt;If you have experience in writing enterprise software and tried Go, you probably know what I mean. Here’s a quick summary for everyone else.&lt;/p&gt;
&lt;p&gt;Enterprise development is a very weird beast compared to other kinds of development. If you’ve never done it, you might ask yourself “What the hell is even enterprise software?” I did that kind of development as a consultant for a bit, so here’s my take on the subject.&lt;/p&gt;
&lt;h4 id=&quot;enterprise-software-development-is-about-scale&quot;&gt;&lt;a href=&quot;#enterprise-software-development-is-about-scale&quot; aria-label=&quot;enterprise software development is about scale permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Enterprise software development is about scale&lt;/h4&gt;
&lt;p&gt;Not in terms of total number of users, or amount of data. Often that’s the case too, but the defining characteristics are scale of &lt;strong&gt;scope&lt;/strong&gt; and &lt;strong&gt;process&lt;/strong&gt;. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Enterprise software always has a big scope.&lt;/strong&gt; The domain can be big and wide, or narrow but stupidly complex. Sometimes it’s both. When creating software to model such domains, normal programming wisdom falls incredibly short because non-technological concerns out-weight most technological ones. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;To unravel complex domains you need a well-structured process.&lt;/strong&gt; You need domain experts, analysts, and a mechanism that lets stakeholders gauge how much progress is being made. It’s also often the case that you, the technologist, don’t know the domain very well. Stakeholders and domain experts often won’t understand technology very well either. &lt;/p&gt;
&lt;p&gt;This pushes further down technological concerns such as efficiency, &lt;strong&gt;and even correctness.&lt;/strong&gt; Don’t get me wrong, the business does care about correctness, but they have a different definition for it. When you’re thinking about algorithmic correctness, they are thinking about a reconciliation back-office for the operations team they keep in a country where labor is cheap.&lt;/p&gt;
&lt;p&gt;Because of the environment resulting from this general premise, a few well-known enterprise development “quirks” have emerged over time. I’ll name three relevant to my point.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;There are a lot of junior developers&lt;/strong&gt; who learn on the job how to program and most are not lucky enough to find a job that will truly teach them anything. In some places, after you’re hired, you are stationed for one week in front of PluralSight and then you’re considered ready to go.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Software projects quickly become huge and complex for all the wrong reasons.&lt;/strong&gt; Big projects take time to build and people (or whole teams) will come and go in the meantime. Constant refactoring is never an option so each will leave behind a lot of code written with very varying levels of quality. Multiple teams working in parallel will produce redundant code. The domain shifts over time, inevitably invalidating older assumptions and consequently causing abstractions to leak. The more sophisticated an abstraction is, the higher the risk that it will become a problem when business comes back with a serious change request.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The toolchain is very often lousy and/or dated.&lt;/strong&gt; This is pretty much the inevitable result of all that I described so far. Huge amounts of old code tie you down to a specific toolset, junior developers will learn the status-quo at best, and the people on top (managers and stakeholders) are extremely often not prepared for making technological decisions based on first-hand experience, the general nature of the endeavor makes them risk-averse, causing them to mainly mimic what other successful players in their space do or, more precisely, what analysts &lt;em&gt;claim&lt;/em&gt; other successful players do.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;go-is-about-suppressing-complexity-at-scale&quot;&gt;&lt;a href=&quot;#go-is-about-suppressing-complexity-at-scale&quot; aria-label=&quot;go is about suppressing complexity at scale permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Go is about suppressing complexity at scale&lt;/h4&gt;
&lt;p&gt;Go makes teams more successful, partially by giving them more than what they would get with other ecosystems, and partially by taking tools away from them, to prevent common pitfalls.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Go is much easier to learn than Java or C#.&lt;/strong&gt; A faster ramp-up is generally good, but it becomes fundamental when the project is lagging behind, the deadline is approaching, and management inevitably resorts to hiring more people, hoping (in vain) to speed things up.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Go community regards as anti-patterns many abstractions regularly employed by Java / C#&lt;/strong&gt;, like IoC containers, or OOP inheritance, for example. There are only two levels of visibility for variables, and the only concurrency model is CSP. It’s way harder to fall into incomprehensible pitfalls when writing in Go than it is in Java / C#. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Go compiler is fast.&lt;/strong&gt; Which means that running tests is going to be faster in general, that deployments will take less time, increasing the overall productivity.&lt;/p&gt;
&lt;p&gt;With Go, it’s easier as a junior developer to be more productive, and harder as a mid-level developer to introduce brittle abstractions that will cause problems down the line.&lt;/p&gt;
&lt;p&gt;For these reasons, Rust is less compelling than Go for enterprise software development. That doesn’t mean that Go is perfect, or that it’s not true that Rust has some advantages over Go. Rust has many advantages over Go, but more than anything, I would say that it’s the common perception of Go that is wrong.&lt;/p&gt;
&lt;p&gt;Go is not blazing-fast. Go is not super memory-efficient. Go doesn’t have the absolutely best concurrency model. &lt;/p&gt;
&lt;p&gt;Go is faster than Java / C#, more memory-efficient than Java / C#, and definitely has better concurrency than Java / C#. &lt;strong&gt;Go is simple so that all of this can hold true when confronting the average Go program with the average Java / C# program.&lt;/strong&gt; It doesn’t matter whether Go is truly faster than C# or Java in an absolute sense. The average Java / C# application will be very different than the best theoretical program, and the amount of foot guns in those languages is huge compared to Go. If you want an example, &lt;a href=&quot;https://www.youtube.com/watch?v=J0mcYVxJEl0&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;take a look at this talk on C# concurrency&lt;/a&gt;, it’s  incredible in my opinion how the straightforward use of &lt;code&gt;await&lt;/code&gt; is &lt;strong&gt;never&lt;/strong&gt; correct. Imagine how broken must be the average asynchronous C# application. Actually, ASP.NET applications deadlocking for no apparent reason are not uncommon.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/02da8/1*JrvDmC-KS7iL2Aexb-lskA.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 44.22268907563025%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABbklEQVQozz1R7U6DMBTlhRazxEWN8Yl8GnU652v4g334CP5wmT/kx1jkYwwGZdCW0gLDU4i7aQ6nvZx7T2+Npmnquq66aOrm/vP9ajG5WU5vl9O7jzfgaP5yOXsemI+j+WRojgfmw3A2vl68XphPxnZrO47jeb7jOodDlBYsEYwInhQUJJVFeCRRnuWVJAU9SpGpEivhlFbS8DzP6cLzPUKIFKUUolZVpSpZaEIOMc1ykDiM8vTYnlpOWRQEgnHD933n18EKgiBNU8YYpZRxniOyHFt8gW3bZllWFAUIMI5jIYSx2+1ctHV1EJIgUZYlkDOGtFIK/0EGDUpIKUFwiBPMyLBtfeeoC0JSJE5dYJC9mHVV+obYgiDLOQdq25Zl2ZtNGIb6zlJCdhZLpWCkb4hHwWEvBv8X/1jov9/vz+Lu8bQMrXSJfzEEbRfwDNS2v9fr1dfKdfW0+4HBIRDeRCmA/Zwwud4/qmC0dVP/ARdJ7Q6LWQfHAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;deadlock table&quot;
        title=&quot;Will it deadlock? (click to zoom)&quot;
        src=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/c7805/1*JrvDmC-KS7iL2Aexb-lskA.png&quot;
        srcset=&quot;/static/aa7feb8568c2376bb953e0d7383bfafc/c0399/1*JrvDmC-KS7iL2Aexb-lskA.png 100w,
/static/aa7feb8568c2376bb953e0d7383bfafc/9ec3c/1*JrvDmC-KS7iL2Aexb-lskA.png 200w,
/static/aa7feb8568c2376bb953e0d7383bfafc/c7805/1*JrvDmC-KS7iL2Aexb-lskA.png 400w,
/static/aa7feb8568c2376bb953e0d7383bfafc/34e8a/1*JrvDmC-KS7iL2Aexb-lskA.png 600w,
/static/aa7feb8568c2376bb953e0d7383bfafc/8ff1e/1*JrvDmC-KS7iL2Aexb-lskA.png 800w,
/static/aa7feb8568c2376bb953e0d7383bfafc/02da8/1*JrvDmC-KS7iL2Aexb-lskA.png 1904w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;Will it deadlock? (click to zoom)&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;This image was taken from &lt;a href=&quot;https://medium.com/rubrikkgroup/understanding-async-avoiding-deadlocks-e41f8f2c6f5d&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;this blog post&lt;/a&gt; that tries to explain the innumerable ways of breaking concurrency in C#.&lt;/p&gt;
&lt;h2 id=&quot;in-conclusion&quot;&gt;&lt;a href=&quot;#in-conclusion&quot; aria-label=&quot;in conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In conclusion&lt;/h2&gt;
&lt;p&gt;Go is a &lt;em&gt;better&lt;/em&gt; Java / C#, while Rust is not. The clarity that Go can bring to enterprise software development is without a doubt much more valuable than removing garbage collection at the cost of worsening the overall productivity.&lt;/p&gt;
&lt;p&gt;Rust is a &lt;em&gt;better&lt;/em&gt; C++, and even if you occasionally hear that Go is a &lt;em&gt;better&lt;/em&gt; C, well, that’s just not the case. No language with a built-in garbage collector and runtime can be considered a C. And don’t be mistaken, Rust is a C++, not a C. &lt;a href=&quot;/blog/what-is-zig-comptime&quot; class=&quot;internal&quot;&gt;If you want a better C, take a look at Zig&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lastly, going back to our story, not all “Why not Rust” questions should be interpreted like in the example above. Sometimes the chilling wind is just in your head and the people asking the dreaded question just want to know your opinion. Let’s avoid tying our identity to a single language and embrace practicality first and foremost. Tribal names like Rustacean or Gopher should be avoided, as they are inherently a marketing tool for inducing stronger branding.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[What is Zig's Comptime?]]></title><description><![CDATA[If you’ve only experienced compile-time execution in the form of macros, generics or codegen, be ready to be surprised by what Zig can do…]]></description><link>https://kristoff.it//blog/what-is-zig-comptime/</link><guid isPermaLink="false">https://kristoff.it//blog/what-is-zig-comptime/</guid><pubDate>Sun, 04 Aug 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;If you’ve only experienced compile-time execution in the form of macros, generics or codegen, be ready to be surprised by what Zig can do.&lt;/p&gt;
&lt;h2 id=&quot;what-is-zig&quot;&gt;&lt;a href=&quot;#what-is-zig&quot; aria-label=&quot;what is zig permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What is Zig&lt;/h2&gt;
&lt;p&gt;Zig is a new general-purpose programming language developed by Andrew Kelley. While still under heavy development, I think the language is already showing great promise. Zig aims to be a better C, similarly to how Rust can be understood as a better C++, generally speaking. Zig has no garbage collection, no built-in event loops, nor other runtime machinery of that level. It’s lean just like C, and in fact it can interoperate with C pretty easily. For a complete overview checkout &lt;a href=&quot;https://ziglang.org&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://ziglang.org&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;Now that you got a general idea about the level of abstraction in which Zig operates, you won’t be surprised to know that there is absolutely no support for reflection at runtime; but what you can’t do a runtime, you can certainly do at compile-time.&lt;/p&gt;
&lt;h2 id=&quot;running-code-at-compile-time&quot;&gt;&lt;a href=&quot;#running-code-at-compile-time&quot; aria-label=&quot;running code at compile time permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Running code at compile-time&lt;/h2&gt;
&lt;p&gt;Let’s start with the basics: using the &lt;code&gt;comptime&lt;/code&gt; keyword to run arbitrary code at compilation-time.&lt;/p&gt;
&lt;h4 id=&quot;compile-time-function-calls&quot;&gt;&lt;a href=&quot;#compile-time-function-calls&quot; aria-label=&quot;compile time function calls permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time function calls&lt;/h4&gt;
&lt;p&gt;The following code uses a function to decide the length of a statically-allocated array.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; multiply(a: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, b: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; a * b;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; len = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; multiply(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; my_static_array: [len]&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note how the function definition doesn’t have any attribute that states it must be available at compile-time. It’s just a normal function, and we request its compile-time execution at the call site.&lt;/p&gt;
&lt;h4 id=&quot;compile-time-blocks&quot;&gt;&lt;a href=&quot;#compile-time-blocks&quot; aria-label=&quot;compile time blocks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time blocks&lt;/h4&gt;
&lt;p&gt;You can also use &lt;code&gt;comptime&lt;/code&gt; to define a compile-time block inside a function. The following example is a case-insensitive string compare function that is optimized for the use-case where one of the two strings is hardcoded. Compile-time execution ensures that the function doesn’t get misused.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Compares two strings ignoring case (ascii strings only).&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Specialzied version where &amp;#96;uppr&amp;#96; is comptime known and *uppercase*.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; insensitive_eql(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; uppr: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, str: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; i = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (i &amp;lt; uppr.len) : (i += &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (uppr[i] &amp;gt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; uppr[i] &amp;lt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&amp;#96;uppr&amp;#96; must be all uppercase&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; i = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (i &amp;lt; uppr.len) : (i += &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; val = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (str[i] &amp;gt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; str[i] &amp;lt;= &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;z&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            str[i] - &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;32&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            str[i];&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (val != uppr[i]) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; x = insensitive_eql(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Hello&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;hElLo&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Compilation of this program fails and produces the following output.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;
&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;shell&quot;&gt;
&lt;code class=&quot;vscode-highlight-code vscode-highlight-line&quot;&gt;&lt;span class=&quot;bold&quot;&gt;&lt;span class=&quot;f2&quot;&gt;➜&lt;/span&gt;&lt;/span&gt; zig build-exe ieq.zig                                       
&lt;span class=&quot;bold&quot;&gt;/Users/loriscro/ieq.zig:8:17: &lt;span class=&quot;f1&quot;&gt;&lt;span class=&quot;bold&quot;&gt;error:&lt;/span&gt;&lt;/span&gt; `uppr` must be all uppercase&lt;/span&gt;
                @compileError(&amp;quot;`uppr` must be all uppercase&amp;quot;);
                &lt;span class=&quot;f2&quot;&gt;&lt;span class=&quot;bold&quot;&gt;^&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;bold&quot;&gt;/Users/loriscro/ieq.zig:24:30: &lt;span class=&quot;f6&quot;&gt;&lt;span class=&quot;bold&quot;&gt;note:&lt;/span&gt;&lt;/span&gt; called from here&lt;/span&gt;
    const x = insensitive_eql(&amp;quot;Hello&amp;quot;, &amp;quot;hElLo&amp;quot;);
                             &lt;span class=&quot;f2&quot;&gt;&lt;span class=&quot;bold&quot;&gt;^&lt;/span&gt;&lt;/span&gt;
&lt;/code&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;h4 id=&quot;compile-time-code-elision&quot;&gt;&lt;a href=&quot;#compile-time-code-elision&quot; aria-label=&quot;compile time code elision permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time code elision&lt;/h4&gt;
&lt;p&gt;Zig can statically resolve control flow expressions that depend on compile-time known values. For example, you can force loop unrolling on &lt;code&gt;while&lt;/code&gt; / &lt;code&gt;for&lt;/code&gt; loops and elide branches from &lt;code&gt;if&lt;/code&gt; / &lt;code&gt;switch&lt;/code&gt; statements. The following program asks the user for a number and then iteratively applies a list of operations to it:&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; builtin = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;builtin&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; std = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; fmt = std.fmt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io = std.io;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Op = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    Sum,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    Mul,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    Sub,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ask_user() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; buf: [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    std.debug.warn(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;A number please: &amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; user_input = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; io.readLineSlice(buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..]);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; fmt.parseInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, user_input, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; apply_ops(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; operations: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Op, num: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;inline&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (operations) |op| {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (op) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            .Sum =&amp;gt; acc +%= num,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            .Mul =&amp;gt; acc *%= num,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            .Sub =&amp;gt; acc -%= num,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; user_num = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ask_user();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ops = [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]Op{.Sum, .Mul, .Sub, .Sub};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; x = apply_ops(ops[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..], user_num);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    std.debug.warn(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;Result: {}&lt;/span&gt;&lt;span class=&quot;mtk6&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, x);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The interesting part of this code is the &lt;code&gt;for&lt;/code&gt; loop. The &lt;code&gt;inline&lt;/code&gt; keyword forces loop unrolling, and inside the loop’s body there is a &lt;code&gt;switch&lt;/code&gt; statement that also gets resolved at compile-time. In short, the invocation of &lt;code&gt;apply_ops&lt;/code&gt; in the previous example basically resolves to:&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc +%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc *%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc -%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;acc -%= num;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; acc;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To test that this is really what’s happening, paste the program code in &lt;a href=&quot;https://godbolt.org&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://godbolt.org&lt;/a&gt;, select Zig as target language, and then select a version of Zig greater than 0.4.0 (at the moment of writing you must select “zig trunk”). Godbolt will compile the code and show you the generated assembly. Right-click on a line of code, and a contextual menu will let you jump to the assembly code that the line corresponds to. You will notice that neither the &lt;code&gt;for&lt;/code&gt; loop, nor the &lt;code&gt;switch&lt;/code&gt; correspond to any assembly. Remove the &lt;code&gt;inline&lt;/code&gt; keyword, and they will now show up.&lt;/p&gt;
&lt;h2 id=&quot;generics&quot;&gt;&lt;a href=&quot;#generics&quot; aria-label=&quot;generics permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generics&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;comptime&lt;/code&gt; keyword indicates code regions and values that must be resolved at compile-time. In the previous examples we used it to perform something similar to template metaprogramming, but it can also be used for generic programming, since types are valid compile-time values.&lt;/p&gt;
&lt;h4 id=&quot;generic-functions&quot;&gt;&lt;a href=&quot;#generic-functions&quot; aria-label=&quot;generic functions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generic functions&lt;/h4&gt;
&lt;p&gt;Since generic programming is tied to &lt;code&gt;comptime&lt;/code&gt; arguments, Zig doesn’t have the &lt;em&gt;traditional&lt;/em&gt; diamond bracket syntax. Other than that, basic usage of generics is very similar to other languages. The following code is Zig’s implementation of &lt;code&gt;mem.eql&lt;/code&gt;, taken from the standard library. It’s used to test two slices for equality.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;/// Compares two slices and returns whether they are equal.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; eql(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, a: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T, b: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (a.len != b.len) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (a) |item, index| {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (b[index] != item) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, &lt;code&gt;T&lt;/code&gt; is a variable of type &lt;code&gt;type&lt;/code&gt; and the subsequent arguments use it as a generic parameter. This way it’s possible to use &lt;code&gt;mem.eql&lt;/code&gt; with any kind of slice.&lt;/p&gt;
&lt;p&gt;It’s also possible to do introspection on values of type &lt;code&gt;type&lt;/code&gt;. In a previous example we parsed an integer number from user input and requested a specific type of integer. The parsing function uses that information to elide some code from its generic implementation.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// This is the line in &amp;#96;apply_ops&amp;#96; where we parsed a number&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; fmt.parseInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, user_input, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// This is the stdlib implementation of &amp;#96;parseInt&amp;#96;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, buf: []&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, radix: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) !T {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (!T.is_signed) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf, radix);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (buf.len == &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;] == &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; math.negate(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..], radix));&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    } &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;] == &lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf[&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;..], radix);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    } &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; parseUnsigned(T, buf, radix);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h4 id=&quot;generic-structs&quot;&gt;&lt;a href=&quot;#generic-structs&quot; aria-label=&quot;generic structs permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Generic structs&lt;/h4&gt;
&lt;p&gt;Before describing how to create generic structs, here’s a brief introduction on how structs work in Zig.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; std = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@import&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;std&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; math = std.math;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; assert = std.debug.assert;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// A struct definition doesn&amp;#39;t include a name.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// Assigning the struct to a variable gives it a name.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Point = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    x: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    y: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    z: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;		&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// A struct definition can also contain namespaced functions.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// This has no impact on the struct layout.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// Struct functions that take a Self parameter, when&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// invoked through a struct instance, will automatically&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// fill the first argument, just like methods do.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Self = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@This&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;();&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; distance(self: Self, p: Point) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; x2 = math.pow(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, self.x - p.x, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; y2 = math.pow(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, self.y - p.y, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; z2 = math.pow(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, self.z - p.z, &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; math.sqrt(x2 + y2 + z2);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; main() !&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; p1 = Point{ .x = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .y = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .z = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; p2 = Point{ .x = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .y = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .z = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    assert(p1.distance(p2) == &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    assert(Point.distance(p1, p2) == &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We’re now ready to talk about generic structs. To create a generic struct, all you have to do is create a function that takes a type argument and use that argument in your struct definition. Here’s an example lifted from Zig’s documentation. It’s a doubly-linked intrusive list.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; LinkedList(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;struct&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            prev: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            next: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            data: T,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        first: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        last: ?*Node = &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        len: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The function returns a &lt;code&gt;type&lt;/code&gt;, which means it can only be called at comptime. It defines two structs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The main &lt;code&gt;LinkedList&lt;/code&gt; struct&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;Node&lt;/code&gt; struct, namespaced inside the main struct&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Just like structs can namespace functions, they can also namespace variables. This is especially useful for introspection when creating composite types. Here’s how &lt;code&gt;LinkedList&lt;/code&gt; can be composed with our previous &lt;code&gt;Point&lt;/code&gt; struct.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// To try this code, paste both definitions in the same file.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; PointList = LinkedList(Point);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; p = Point{ .x = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .y = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, .z = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; my_list = PointList{};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// A complete implementation would offer an &amp;#96;append&amp;#96; method.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// For now let&amp;#39;s add the new node manually.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; node = PointList.Node{ .data = p };&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;my_list.first = &amp;amp;node;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;my_list.last = &amp;amp;node;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;my_list.len = &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The Zig standard library contains &lt;a href=&quot;https://github.com/ziglang/zig/blob/ddf7942aaa6a41296d9338423dcdfb93b915e4df/std/linked_list.zig&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;a couple of fleshed out implementations of linked lists&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;compile-time-reflection&quot;&gt;&lt;a href=&quot;#compile-time-reflection&quot; aria-label=&quot;compile time reflection permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Compile-time reflection&lt;/h2&gt;
&lt;p&gt;Now that we have covered all the basics, we can finally move onto the things that make Zig metaprogramming truly powerful and fun to use. &lt;/p&gt;
&lt;p&gt;We already saw an example of reflection when &lt;code&gt;parseInt&lt;/code&gt; was checking &lt;code&gt;T.is_signed&lt;/code&gt;, but in this section I want to focus on a more advanced usage of reflection. I’ll introduce the concept with a code sample.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; make_couple_of(x: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; [&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x) {x, x};&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This — mostly useless — function can take any value as input and creates an array that contains two copies of it. The following invocations are all correct.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]comptime_int{5, 5}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]i32{5, 5}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]type{u8, u8}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;); &lt;/span&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2]type{type, type}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;make_couple_of(make_couple_of(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;hi&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)); &lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// creates [2][2][2]u8{[2][2]u8{&amp;quot;hi&amp;quot;,&amp;quot;hi&amp;quot;}, [2][2]u8{&amp;quot;hi&amp;quot;,&amp;quot;hi&amp;quot;}}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Arguments of type &lt;code&gt;var&lt;/code&gt; are very powerful and allow construction of optimized and yet “dynamic” functions. For the next example I’ll lift some more code from the standard library to showcase a more useful use of this functionality.&lt;/p&gt;
&lt;p&gt;The following code is the implementation of &lt;code&gt;math.sqrt&lt;/code&gt;, which we used in a previous example to compute the euclidean distance between two points.&lt;/p&gt;
&lt;div class=&quot;vscode-highlight-wrapper&quot;&gt;&lt;pre class=&quot;dark-default-dark vscode-highlight&quot; data-language=&quot;zig&quot;&gt;&lt;code class=&quot;vscode-highlight-code&quot;&gt;&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// I moved part of the original definition to&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk3&quot;&gt;// a separate function for better readability.&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; decide_return_type(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeId&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T) == TypeId.Int) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@IntType&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, T.bit_count / &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    } &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line vscode-highlight-line-highlighted&quot;&gt;&lt;span class=&quot;mtk4&quot;&gt;pub&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sqrt(x: &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) decide_return_type(&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x)) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;const&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T = &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeOf&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(x);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;switch&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeId&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T)) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.ComptimeFloat =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T(&lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@sqrt&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;f64&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, x)),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.Float =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@sqrt&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T, x),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.ComptimeInt =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;comptime&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (x &amp;gt; maxInt(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u128&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;)) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                	&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;sqrt not implemented for &amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ++ &lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                	&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;comptime_int greater than 128 bits&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; (x &amp;lt; &lt;/span&gt;&lt;span class=&quot;mtk7&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;) {&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;                &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;sqrt on negative number&amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;);&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;            &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; T(sqrt_int(&lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;u128&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;, x));&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        },&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        TypeId.Int =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; sqrt_int(T, x),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;mtk4&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; =&amp;gt; &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@compileError&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mtk8&quot;&gt;&amp;quot;not implemented for &amp;quot;&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt; ++ &lt;/span&gt;&lt;span class=&quot;mtk11&quot;&gt;@typeName&lt;/span&gt;&lt;span class=&quot;mtk1&quot;&gt;(T)),&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;    }&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;vscode-highlight-line&quot;&gt;&lt;span class=&quot;mtk1&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The return type of this function is a bit peculiar. If you look at the signature of &lt;code&gt;sqrt&lt;/code&gt;, it’s calling a function in the place where it should be declaring the return type. This is allowed in Zig. The original code actually inlines an &lt;code&gt;if&lt;/code&gt; expression, but I moved it to a separate function for better readability. &lt;/p&gt;
&lt;p&gt;So what is &lt;code&gt;sqrt&lt;/code&gt; trying to do with its return type? It’s applying a small optimization when we’re passing in an integer value. In that case the function declares its return type as an &lt;strong&gt;unsigned&lt;/strong&gt; integer with &lt;strong&gt;half the bit size&lt;/strong&gt; of the original input. This means that, if we’re passing in an &lt;code&gt;i64&lt;/code&gt; value, the function will return an &lt;code&gt;u32&lt;/code&gt; value. This makes sense given what the square root function does. The rest of the declaration then uses reflection to further specialize and report compile-time errors where appropriate.&lt;/p&gt;
&lt;h2 id=&quot;in-conclusion&quot;&gt;&lt;a href=&quot;#in-conclusion&quot; aria-label=&quot;in conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In conclusion&lt;/h2&gt;
&lt;p&gt;Compile-time execution is great, especially when the language is very expressive. Without good compile-time metaprogramming, one must resort to macros or codegen, or worse, do a lot of useless work at runtime. &lt;/p&gt;
&lt;p&gt;If you want to see one more cool example of what can be done at compile-time in Zig, &lt;a href=&quot;https://andrewkelley.me/post/string-matching-comptime-perfect-hashing-zig.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;take a look at this blog post by Andrew himself&lt;/a&gt;. In it, he uses some the aforementioned techniques to generate a perfect hashing function for a compile-time known list of strings. The result is that the user can create a switch that matches strings in &lt;code&gt;O(1)&lt;/code&gt;. The code is very easy to understand, and he offers some insight on how all the other minor features make user abstractions easy, fun and safe to use.&lt;/p&gt;
&lt;style class=&quot;vscode-highlight-styles&quot;&gt;:root {
  --vscode-highlight-padding-v: 1rem;
  --vscode-highlight-padding-h: 1.5rem;
  --vscode-highlight-padding-top: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-right: var(--vscode-highlight-padding-h);
  --vscode-highlight-padding-bottom: var(--vscode-highlight-padding-v);
  --vscode-highlight-padding-left: var(--vscode-highlight-padding-h);
  --vscode-highlight-border-radius: 8px;

  --vscode-highlight-line-highlighted-background-color: transparent;
  --vscode-highlight-line-highlighted-border-width: 4px;
  --vscode-highlight-line-highlighted-border-color: transparent;
}

.vscode-highlight {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  padding-top: 1rem;
  padding-top: var(--vscode-highlight-padding-top);
  padding-bottom: 1rem;
  padding-bottom: var(--vscode-highlight-padding-bottom);
  border-radius: 8px;
  border-radius: var(--vscode-highlight-border-radius);
  font-feature-settings: normal;
}

.vscode-highlight-code {
  display: inline-block;
  min-width: 100%;
}

.vscode-highlight-line {
  display: inline-block;
  box-sizing: border-box;
  width: 100%;
  padding-left: 1.5rem;
  padding-left: var(--vscode-highlight-padding-left);
  padding-right: 1.5rem;
  padding-right: var(--vscode-highlight-padding-right);
}

.vscode-highlight-line-highlighted {
  background-color: var(--vscode-highlight-line-highlighted-background-color);
  box-shadow: inset var(--vscode-highlight-line-highlighted-border-width) 0 0 0 var(--vscode-highlight-line-highlighted-border-color);
}
.dark-default-dark {
background-color: #1E1E1E;
color: #D4D4D4;
}

.dark-default-dark .mtk1 { color: #D4D4D4; }
.dark-default-dark .mtk2 { color: #1E1E1E; }
.dark-default-dark .mtk3 { color: #6A9955; }
.dark-default-dark .mtk4 { color: #569CD6; }
.dark-default-dark .mtk5 { color: #D16969; }
.dark-default-dark .mtk6 { color: #D7BA7D; }
.dark-default-dark .mtk7 { color: #B5CEA8; }
.dark-default-dark .mtk8 { color: #CE9178; }
.dark-default-dark .mtk9 { color: #646695; }
.dark-default-dark .mtk10 { color: #4EC9B0; }
.dark-default-dark .mtk11 { color: #DCDCAA; }
.dark-default-dark .mtk12 { color: #9CDCFE; }
.dark-default-dark .mtk13 { color: #000080; }
.dark-default-dark .mtk14 { color: #F44747; }
.dark-default-dark .mtk15 { color: #C586C0; }
.dark-default-dark .mtk16 { color: #6796E6; }
.dark-default-dark .mtk17 { color: #808080; }
.dark-default-dark .mtki { font-style: italic; }
.dark-default-dark .mtkb { font-weight: bold; }
.dark-default-dark .mtku { text-decoration: underline; text-underline-position: under; }&lt;/style&gt;</content:encoded></item><item><title><![CDATA[I Want Simple, Not Just Easy]]></title><description><![CDATA[Simple → Complex is the dimension that describes how irregular and interconnected a system is. Simple systems can be broken down into…]]></description><link>https://kristoff.it//blog/simple-not-just-easy/</link><guid isPermaLink="false">https://kristoff.it//blog/simple-not-just-easy/</guid><pubDate>Sat, 20 Jul 2019 22:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span style=&quot;text-align:left; display:inline-block;&quot;&gt;&lt;b&gt;Simple → Complex&lt;/b&gt;&lt;/span&gt; is the dimension that describes how irregular and interconnected a system is. Simple systems can be broken down into smaller pieces that are understandable in isolation. If you make changes to one of those pieces, you don’t have to fear unexpected ramifications in parts not directly connected to what you’re operating on. Complex systems are the exact opposite: you’ll need to keep in mind a lot of things and tread carefully.&lt;/p&gt;
&lt;p&gt;&lt;span style=&quot;text-align:left; display:inline-block;&quot;&gt;&lt;b&gt;Easy → Hard&lt;/b&gt;&lt;/span&gt; is the dimension of how much energy and time it takes to successfully execute something. Easy things generally require less preparation and can be done reliably even by inexperienced individuals. By definition, hard stuff requires more effort and not everybody gets it right all the time.&lt;/p&gt;
&lt;p&gt;It goes without saying that complex things tend to be hard, while simple things tend to be easy, but that’s not always the case. Software engineering can shift this balance almost alchemically, although not always for the best.&lt;/p&gt;
&lt;h2 id=&quot;building-abstractions&quot;&gt;&lt;a href=&quot;#building-abstractions&quot; aria-label=&quot;building abstractions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building abstractions&lt;/h2&gt;
&lt;p&gt;Every time you build an abstraction, you encapsulate a given amount of complexity, making it easier to use. When you print to a terminal, you’re probably doing it in a single line of code: that’s an abstraction over a whole lot of subsystems that you might not even know about. It’s easier to print that way, but the complexity is still there, hidden behind a single function call.&lt;/p&gt;
&lt;h4 id=&quot;so-whats-the-point-of-abstracting&quot;&gt;&lt;a href=&quot;#so-whats-the-point-of-abstracting&quot; aria-label=&quot;so whats the point of abstracting permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;So what’s the point of abstracting?&lt;/h4&gt;
&lt;p&gt;While in the previous example abstracting did not decrease complexity, it did draw a box around a subsystem. If you remember, simple systems are made up of smaller boxes, so &lt;strong&gt;abstraction is a step towards composing bigger systems without increasing complexity too much&lt;/strong&gt;. It’s also good that it made things easier: if it took 100 lines of code to print something to a terminal, we would be years behind compared to where we are today, just because of all the economic implications.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;This is why we don’t write everything in assembly&lt;/strong&gt;. It’s easier (more economical) to write in higher-level languages, and function calls, for loops and other flow control structures proved to be good abstractions over machine-level operations. Keep in mind: none of these things &lt;em&gt;further&lt;/em&gt; simplifies assembly code, but they do actively &lt;em&gt;prevent&lt;/em&gt; it from exploding in terms of complexity, as it would &lt;em&gt;easily&lt;/em&gt; do without small boxes such as functions, etc.&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;gatsby-resp-image-figure&quot; style=&quot;&quot;&gt;
    &lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/91fec12ab8620aee3b60e6756bda6994/26532/webassembly.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 130.8300395256917%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsSAAALEgHS3X78AAAE0klEQVRIx6VVa0xURxTmV5Oavm1LKaatWisVoVoJWKWBAJYEKQRKlUpFsLx8ADUhQUwtUGyIGhNqbAPEGOM/AqyPBWoqRjBAw0OgJbzkJcTq3jt3d8GFXZZl9+uZ2Yfrav3TSU7mcc98853vnDvjpZ2bw6ORUehUV6FTN0GvboT2qhoPa+shq65AU6eCfPkqGJmm/jLNL+N+TS3Nr5FvE3QNZOQ3+9ffWFhagpfRaIRns5A90GoxNjODvqEhDE1OYphs4O5dDE9NYUaSsIhnN6+F+XkxsD3j48PZWfyj0+HBrB73dVpIhkdgDn/PPXxss9qIIdFcHp+EkUIzcaPQTRSWkUK0UOjL1xpgcRrNl6g3Ueim+ivke0X4G2vqYB4csjPkARsrzkF6zQcs+kuwDZ9C3hoO5YOPwbZHQFr/CeT310Py2wxp82dizPw2ga3dCLaafDZugfSKNww/lLgB/loFtmodlH2ZYLv2QtqTDm34F1D2pEFOzQCL/QpScirkb/dDeyAfcuZByNw3LQvKdwcg00GG4jI3wHOVkH0/hLIzEUpkjL0nJxa0HcqmrWCBwWBbaLw9EuzrFChRO8HWBYDxKNb6Q375bRjKyj0YvvcRnXYQjFix9Gxo43aBJaWA5eRCzs6FhtbY/hywb/ZBOfQ9HRYKxWc1lDUbwF56C4afT7oB/vIbJK8Xwegk9jppuXIV2Jtkb/g6+nft/Upf8U32WQOZ+736jliXvV6A4XjpY0DT739Al7wXc1mHoEvPgj4t02FZ0FGvc/R8riVNuel5FHwt4wC0JMM8ZdpehwsLrmI2LJnt9URmdZjNzSwexQ+P7zYb1eG8o1CZLOPPjg67M9Xm44q1wbq87FqbvncPP5WW4sfjx9HR1m53sVqF3xMMOXBra6sLx2w2Q9JosExgzqYoClJSUvB5aChyDx9GWVkZlsgPDnYC0MmQOzc3N4txbW0tzpw5g/HxcXR1deH69es4ffo0YmJiEBgYiNjYWAF88eJF4c8PfQqwr68PPT09uHnzJgICAnDjxg10d3djYGAA/f392LZtm7AdO3YgOjpaHDBFF4V7e0JDzvDChQvYvXu3YFBTUwN/f3+EhISgqqpKMIqKikJeXh6Sk5OFPJN0A7W1tYExhjm6Bp/Q0NmOHTsmQC9dugQ/Pz94e3tjxYoVog8PD0dGRgZSU1MFw5GRETQ0NKC9vR3Oa9AFaHaIe/78eRw9elToGRYWhqCgIMEqODgY8fHxAiwxMREVFRW4desWOjs7RXSukN0ZaiirR44cQV1dnfiYlJSEkyftvxRPUnZ2NkpKSpCQkIAOKrHR0VFhzkqwUvkIQC3dzoODgzh79iyKi4tRX1+PyspKREZGIicnB2q1WugYFxcnNCsvL0d1dbVgyLVsaWmBSqUSYXtxuk1NTTh16hQKCwsFk6KiIqEVZxIRESHC5uDcuMacaX5+PgoKCsSeEydOoLGxEYuLi08nhWvJM8/X+WEz9K4MDw+jt7cXt2/fxp07d0QyuDyz9ERYLBaPN8UD8P80kRQeN6fKJAa9Xi9ONZlMLpHdjYvvTICOHq+xsTFMT09jYmJC1KJgKMBo0tPVjS4qAZ41J2vn7+TOwNlzKYboieWgvOfAzw2Zb3qe/deefwGF8JgeliKzEAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;O&amp;#39;REILLY Web Development With Assembly - You might as well just kill yourself right now&quot;
        title=&quot;This joke lost some of its punch in the wake of WebAssembly&quot;
        src=&quot;/static/91fec12ab8620aee3b60e6756bda6994/c7805/webassembly.png&quot;
        srcset=&quot;/static/91fec12ab8620aee3b60e6756bda6994/c0399/webassembly.png 100w,
/static/91fec12ab8620aee3b60e6756bda6994/9ec3c/webassembly.png 200w,
/static/91fec12ab8620aee3b60e6756bda6994/c7805/webassembly.png 400w,
/static/91fec12ab8620aee3b60e6756bda6994/26532/webassembly.png 506w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;
    &lt;figcaption class=&quot;gatsby-resp-image-figcaption&quot;&gt;This joke lost some of its punch in the wake of WebAssembly&lt;/figcaption&gt;
  &lt;/figure&gt;&lt;/p&gt;
&lt;h4 id=&quot;not-all-abstraction-manages-complexity&quot;&gt;&lt;a href=&quot;#not-all-abstraction-manages-complexity&quot; aria-label=&quot;not all abstraction manages complexity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Not all abstraction manages complexity&lt;/h4&gt;
&lt;p&gt;Abstraction is sometimes introduced just to make things easier. An example would be when you’re introducing a new interface with the sole goal of making it easier to swap in and out a replacement for a component. It will take you less effort to make that specific change (fewer references to update), but the box that you just drew is a second layer around a pre-existing block (the concrete class). Think for example about  &lt;strong&gt;Database&lt;/strong&gt; &lt;sup&gt;(class)&lt;/sup&gt; and &lt;strong&gt;IDatabase&lt;/strong&gt; &lt;sup&gt;(interface)&lt;/sup&gt;. That interface is only useful for swapping in a new database. If it were a way of abstracting what the class does, it would have had a different name to begin with. &lt;/p&gt;
&lt;h4 id=&quot;easy-is-better-than-hard&quot;&gt;&lt;a href=&quot;#easy-is-better-than-hard&quot; aria-label=&quot;easy is better than hard permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Easy is better than hard&lt;/h4&gt;
&lt;p&gt;All else being equal, there is no reason to prefer hard over easy. Stealing a quote from Economics, we have an infinite amount of things we could learn or build, and an ever limited amount of time and energy to do it. The cheaper we can do it for, the more we can have, and the benefits compound over time. It’s a bit of a trivial statement, but I want to make it clear before diving into the real issue.&lt;/p&gt;
&lt;h4 id=&quot;the-rules-of-abstraction&quot;&gt;&lt;a href=&quot;#the-rules-of-abstraction&quot; aria-label=&quot;the rules of abstraction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The rules of abstraction&lt;/h4&gt;
&lt;p&gt;As I mentioned before, introducing abstraction has two main effects:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Lowers difficulty by hiding some of the details. Fewer lines to write, fewer things to keep in mind and think about — or even to right out know.&lt;/li&gt;
&lt;li&gt;Identifies a cohesive subsystem and draws a box around it. The box becomes then a tool that can be reused to build bigger systems, while keeping complexity down.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The second point, complexity management, is not trivial. It’s easier to lower difficulty rather than constrain complexity, and that’s often what happens when development is blind to this concept: &lt;strong&gt;easy software that encapsulates more complexity than it should&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&quot;easy-complexity&quot;&gt;&lt;a href=&quot;#easy-complexity&quot; aria-label=&quot;easy complexity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Easy complexity&lt;/h2&gt;
&lt;p&gt;Easy complexity shows up in many places, causing all kinds of problems. We even have a friendly name for some incarnations of easy complexity: bloat. Saying that something is bloated is sometimes taken as a generic complaint against a misunderstood technology, and certainly the term gets abused, but it’s nevertheless a legitimate way of describing something that fails to manage complexity in a misguided effort to make things easy.&lt;/p&gt;
&lt;h4 id=&quot;using-bloated-tools&quot;&gt;&lt;a href=&quot;#using-bloated-tools&quot; aria-label=&quot;using bloated tools permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using bloated tools&lt;/h4&gt;
&lt;p&gt;The universal property of bloated tools is being resource-hungry and needlessly slow. In the beginning, this seems almost innocuous, but as time goes on you will find that a significant percentage of human and system time gets wasted on waiting for them to perform even trivial operations. When something breaks or behaves strangely, there is no way of knowing what exactly went wrong and why. Developers that over-rely on this type of tool get progressively caught in a form of lock-in where the tool removes them from the details of what they are doing &lt;em&gt;(“the tool does it for me”)&lt;/em&gt;, making them more productive, but at an unfair price. The lock-in is not just in terms of technology: when you only &lt;em&gt;approximately&lt;/em&gt; know one way of doing things, you will also be limited in the range of things you can do, because every small deviation from the tool-sanctioned way will become a serious obstacle. &lt;/p&gt;
&lt;p&gt;The self-preserving structure of these problems is nothing short of amazing. Maybe in the beginning the developer tried to investigate root causes and different ways of doing things, but failure after failure, it’s reasonable of them — although ultimately wrong — to conclude that this approach is just a waste of time. At that point some decide that the right solution is to double down on learning how to cope with the tool’s quirks and intricacies, which will result in even more wasted time once a new shiny tool comes along.&lt;/p&gt;
&lt;p&gt;Of all the forces at play in software engineering, this is one of the strongest forms of natural selection: choosing slow and unreliable tools will make you a slow, unreliable developer with a limited and quickly depreciating skill set. It’s harsh, I know, but true. Choosing better tools won’t make you necessarily a good developer, but when you can understand what you’re doing, troubleshoot problems, and in general be able to iterate quickly, then you will have a real opportunity for improvement.&lt;/p&gt;
&lt;h4 id=&quot;not-all-bloat-is-evil&quot;&gt;&lt;a href=&quot;#not-all-bloat-is-evil&quot; aria-label=&quot;not all bloat is evil permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Not all bloat is evil&lt;/h4&gt;
&lt;p&gt;I’m purposely avoiding naming names, but I’d like to give a positive shoutout to JavaScript. We all equate JS with bloat, but in my opinion what happens there is mostly the natural result of a healthy ecosystem where many different (although sometimes half-baked) abstractions compete against each other. This still has the negative effect of making it harder to make sense of things, and causes some developers to experience burnout, but the number of broken developers (as per description above) that the JS ecosystem creates is not proportional to our perception of its bloat-ness. &lt;strong&gt;I think the biggest number of that type of developers comes from different ecosystems where bloat is the result of &lt;em&gt;hostile design&lt;/em&gt;&lt;/strong&gt;, but that’s a story for another blog post.&lt;/p&gt;
&lt;h2 id=&quot;in-conclusion&quot;&gt;&lt;a href=&quot;#in-conclusion&quot; aria-label=&quot;in conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;In Conclusion&lt;/h2&gt;
&lt;p&gt;Using bloated toolchains will have negative effects on both your productivity and personal growth. Slowness alone is a problem, but when combined with unreliability, it becomes devastating. Think about this the next time you see somebody open their IDE, wait for it to load, make a change, and then have to wait before the red underline caused by their changes disappears, plus the occasional crash. A reliable environment is a fundamental prerequisite for building competence.   The second most important prerequisite is a feedback loop that allows you to quickly gauge the result of your actions. The tighter the feedback loop, the better. When it takes minutes to build a project and run a fistful of tests, the loop is definitely not as tight as it should be.&lt;/p&gt;
&lt;p&gt;Using bloated frameworks will prevent you from understanding the details of what you’re doing and cause your software to inherit bad traits such as slowness and unreliability, further spreading the effects of easy complexity. New approaches will inevitably come, and if you never built an appreciation for the different trade-offs, all change will seem useless and arbitrary. &lt;/p&gt;
&lt;h4 id=&quot;the-economy-of-complexity&quot;&gt;&lt;a href=&quot;#the-economy-of-complexity&quot; aria-label=&quot;the economy of complexity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The economy of complexity&lt;/h4&gt;
&lt;p&gt;If you search “word vs latex” in google images, you will find a few pictures similar to the following:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;&quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/02744/miktex.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 78.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAABhElEQVQoz4WS6ZKCQAyE5/3fzqI8UFkovBU55JKVYz8mK84qVds/poaQTjqdUU3TtG37eDy+DVRVVdf15XL50thut8fj8Xq9EjTTlO/7aZqGYZhlWapxe4J7EASn04lLkiQSEZAcx7Gaz+d85HnedR0Sur+gPNK6MSBWLZdL2hZFIaGyLJEnnRGP8k+y9OjJ6/WavIF8Pp8nkwlDoohpkT3KBPRQm83GdV34n7Lp/DaOXO73u3ikKIByph/+tRpcYKLNLIfbiYYsqJd9OBwo89aZPDPIySc02r4MQzM7NGXLSSrmccEw1oE0duY4Ds1msxkR0pTneVjKh9mZqpCZOdbAzmHaSuNXtriFHlbKP06yqSiWkPG5/JdsdkNhVsIpT4qT2uZuRvk9eTqd0gFjmY3Ow8L/RU+2LAsmr0LeGfxSo3iCO1rkYoKgogA90QmNaUVFpoG9bHG/32Mvb4kc2dZQSw3zYNViscA/XqVt2wy/2+14P8zFhrAQd1arFUH+RlEE5Qcu8pfw4NOMVQAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Comparing Word and Latex. Image by Marko Pinteric.&quot;
        title=&quot;Comparing Word and Latex. Image by Marko Pinteric.&quot;
        src=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/c7805/miktex.png&quot;
        srcset=&quot;/static/0ef50e25277adaa3310549fc6eb846b7/c0399/miktex.png 100w,
/static/0ef50e25277adaa3310549fc6eb846b7/9ec3c/miktex.png 200w,
/static/0ef50e25277adaa3310549fc6eb846b7/c7805/miktex.png 400w,
/static/0ef50e25277adaa3310549fc6eb846b7/02744/miktex.png 560w&quot;
        sizes=&quot;(max-width: 400px) 100vw, 400px&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This picture is trying to convey that, while Microsoft Word is easier to use than LaTeX, as document size increases, you will quickly get to a point where it actually becomes easier to use LaTeX, despite the inverse being true initially. Complexity makes things hard and Word fails at containing it, causing difficulty to skyrocket. This is why you can’t ignore complexity. &lt;strong&gt;It doesn’t matter how easy you try to make things: complexity is an almost &lt;em&gt;radioactive&lt;/em&gt; source of difficulty&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;In terms of value over time, if your daily job involves working on big and complex documents, learning LaTeX is going to pay off immensely compared to sticking with Word. More importantly, learning the idea of giving semantic structure to documents is going to pay off more than learning that one arcane procedure required to drag &amp;#x26; drop pictures without messing up the layout in Word. Once you begin appreciating the relationship between structure and semantic meaning, you won’t feel bad when something new comes along and starts replacing LaTeX, because the fundamental principles will transfer to the new tool, while the image placement incantation for Word is probably going to stop working in the subsequent release, leaving  you with nothing.&lt;/p&gt;
&lt;p&gt;I leave it to you to decide if and how that picture translates into toolchains, frameworks, and even the software you write yourself, but there is an old saying that I think is still as valid as ever. I don’t remember the precise quote, but it’s something along the lines of:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;The value of a maker is reflected in the quality of their tools.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;small&gt;&lt;em&gt;Thanks for reading my first blog post!&lt;br&gt;
My next post will probably be about a new programming language called Zig and some considerations that popped into my mind when using it, but I’m not done complaining about complexity yet. Not all easy complexity is bloat, some takes a different form that definitely deserves a dedicated post, and I didn’t touch on the subject of what it takes to actively simplify a system. And there’s also the hostile design thing…&lt;/em&gt; &lt;/small&gt;&lt;/p&gt;</content:encoded></item></channel></rss>